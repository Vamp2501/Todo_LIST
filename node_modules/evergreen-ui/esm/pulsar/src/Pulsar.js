import _extends from "@babel/runtime/helpers/esm/extends";
import _defineProperty from "@babel/runtime/helpers/esm/defineProperty";

var _POSITION_KEYS;

import React, { memo } from 'react';
import { css } from 'glamor';
import PropTypes from 'prop-types';
import Positions from '../../constants/src/Position';
import { Pane } from '../../layers';
import { majorScale } from '../../scales';
import { useTheme } from '../../theme';
var pulseAnimation = css.keyframes('pulseAnimation', {
  '0%': {
    transform: 'scale(1)'
  },
  '50%': {
    transform: 'scale(1.9)'
  },
  '100%': {
    transform: 'scale(1)'
  }
});
var animationTiming = 'cubic-bezier(0, 0, 0.58, 1)';
var animationDuration = '1.8s';
var pulsarAnimationClassName = css({
  animation: "".concat(pulseAnimation, " ").concat(animationDuration, " ").concat(animationTiming, " both infinite")
}).toString();
var POSITION_KEYS = (_POSITION_KEYS = {}, _defineProperty(_POSITION_KEYS, Positions.TOP_LEFT, ['top', 'left']), _defineProperty(_POSITION_KEYS, Positions.TOP_RIGHT, ['top', 'right']), _defineProperty(_POSITION_KEYS, Positions.BOTTOM_LEFT, ['bottom', 'left']), _defineProperty(_POSITION_KEYS, Positions.BOTTOM_RIGHT, ['bottom', 'right']), _POSITION_KEYS);

var getPositionProps = function getPositionProps(_ref) {
  var position = _ref.position,
      size = _ref.size;
  var keys = POSITION_KEYS[position];
  var props = {};
  keys.forEach(function (key) {
    var isYAxisKey = key === 'top' || key === 'bottom';

    if (isYAxisKey) {
      props[key] = -(size / 2);
    } else {
      props[key] = -size;
    }
  });
  return props;
};

export var Pulsar = /*#__PURE__*/memo(function (_ref2) {
  var _ref2$position = _ref2.position,
      position = _ref2$position === void 0 ? Positions.TOP_RIGHT : _ref2$position,
      _ref2$size = _ref2.size,
      size = _ref2$size === void 0 ? majorScale(1) : _ref2$size,
      onClick = _ref2.onClick;

  var _useTheme = useTheme(),
      colors = _useTheme.colors;

  var positionProps = getPositionProps({
    position: position,
    size: size
  });
  var outerPadding = size * 0.25;
  return /*#__PURE__*/React.createElement(Pane, _extends({
    position: "absolute",
    borderRadius: "50%",
    backgroundColor: colors.blue100,
    boxSizing: "content-box",
    opacity: 0.7,
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
    padding: outerPadding,
    className: pulsarAnimationClassName,
    onClick: onClick,
    cursor: onClick ? 'pointer' : undefined
  }, positionProps), /*#__PURE__*/React.createElement(Pane, {
    width: size,
    height: size,
    backgroundColor: colors.blue200,
    borderRadius: "50%",
    opacity: 0.7
  }));
});
Pulsar.propTypes = {
  /**
   * The position of the pulsar
   */
  position: PropTypes.oneOf([Positions.TOP_LEFT, Positions.TOP_RIGHT, Positions.BOTTOM_LEFT, Positions.BOTTOM_RIGHT]),

  /**
   * The width/height of the dot
   */
  size: PropTypes.number,

  /**
   * Called when the Pulsar is clicked
   */
  onClick: PropTypes.func
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9wdWxzYXIvc3JjL1B1bHNhci5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsIm1lbW8iLCJjc3MiLCJQcm9wVHlwZXMiLCJQb3NpdGlvbnMiLCJQYW5lIiwibWFqb3JTY2FsZSIsInVzZVRoZW1lIiwicHVsc2VBbmltYXRpb24iLCJrZXlmcmFtZXMiLCJ0cmFuc2Zvcm0iLCJhbmltYXRpb25UaW1pbmciLCJhbmltYXRpb25EdXJhdGlvbiIsInB1bHNhckFuaW1hdGlvbkNsYXNzTmFtZSIsImFuaW1hdGlvbiIsInRvU3RyaW5nIiwiUE9TSVRJT05fS0VZUyIsIlRPUF9MRUZUIiwiVE9QX1JJR0hUIiwiQk9UVE9NX0xFRlQiLCJCT1RUT01fUklHSFQiLCJnZXRQb3NpdGlvblByb3BzIiwicG9zaXRpb24iLCJzaXplIiwia2V5cyIsInByb3BzIiwiZm9yRWFjaCIsImtleSIsImlzWUF4aXNLZXkiLCJQdWxzYXIiLCJvbkNsaWNrIiwiY29sb3JzIiwicG9zaXRpb25Qcm9wcyIsIm91dGVyUGFkZGluZyIsImJsdWUxMDAiLCJ1bmRlZmluZWQiLCJibHVlMjAwIiwicHJvcFR5cGVzIiwib25lT2YiLCJudW1iZXIiLCJmdW5jIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU9BLEtBQVAsSUFBZ0JDLElBQWhCLFFBQTRCLE9BQTVCO0FBQ0EsU0FBU0MsR0FBVCxRQUFvQixRQUFwQjtBQUNBLE9BQU9DLFNBQVAsTUFBc0IsWUFBdEI7QUFDQSxPQUFPQyxTQUFQLE1BQXNCLDhCQUF0QjtBQUNBLFNBQVNDLElBQVQsUUFBcUIsY0FBckI7QUFDQSxTQUFTQyxVQUFULFFBQTJCLGNBQTNCO0FBQ0EsU0FBU0MsUUFBVCxRQUF5QixhQUF6QjtBQUVBLElBQU1DLGNBQWMsR0FBR04sR0FBRyxDQUFDTyxTQUFKLENBQWMsZ0JBQWQsRUFBZ0M7QUFDckQsUUFBTTtBQUNKQyxJQUFBQSxTQUFTLEVBQUU7QUFEUCxHQUQrQztBQUlyRCxTQUFPO0FBQ0xBLElBQUFB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QixJQUFBLE1BQU0sRUFBRUEsSUFBM0I7QUFBaUMsSUFBQSxlQUFlLEVBQUVRLE1BQU0sQ0FBQ0ssT0FBekQ7QUFBa0UsSUFBQSxZQUFZLEVBQUMsS0FBL0U7QUFBcUYsSUFBQSxPQUFPLEVBQUU7QUFBOUYsSUFmRixDQURGO0FBbUJELENBeEJ5QixDQUFuQjtBQTBCUFAsTUFBTSxDQUFDUSxTQUFQLEdBQW1CO0FBQ2pCO0FBQ0Y7QUFDQTtBQUNFZixFQUFBQSxRQUFRLEVBQUVuQixTQUFTLENBQUNtQyxLQUFWLENBQWdCLENBQUNsQyxTQUFTLENBQUNhLFFBQVgsRUFBcUJiLFNBQVMsQ0FBQ2MsU0FBL0IsRUFBMENkLFNBQVMsQ0FBQ2UsV0FBcEQsRUFBaUVmLFNBQVMsQ0FBQ2dCLFlBQTNFLENBQWhCLENBSk87O0FBTWpCO0FBQ0Y7QUFDQTtBQUNFRyxFQUFBQSxJQUFJLEVBQUVwQixTQUFTLENBQUNvQyxNQVRDOztBQVdqQjtBQUNGO0FBQ0E7QUFDRVQsRUFBQUEsT0FBTyxFQUFFM0IsU0FBUyxDQUFDcUM7QUFkRixDQUFuQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBtZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdnbGFtb3InXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgUG9zaXRpb25zIGZyb20gJy4uLy4uL2NvbnN0YW50cy9zcmMvUG9zaXRpb24nXG5pbXBvcnQgeyBQYW5lIH0gZnJvbSAnLi4vLi4vbGF5ZXJzJ1xuaW1wb3J0IHsgbWFqb3JTY2FsZSB9IGZyb20gJy4uLy4uL3NjYWxlcydcbmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSAnLi4vLi4vdGhlbWUnXG5cbmNvbnN0IHB1bHNlQW5pbWF0aW9uID0gY3NzLmtleWZyYW1lcygncHVsc2VBbmltYXRpb24nLCB7XG4gICcwJSc6IHtcbiAgICB0cmFuc2Zvcm06ICdzY2FsZSgxKSdcbiAgfSxcbiAgJzUwJSc6IHtcbiAgICB0cmFuc2Zvcm06ICdzY2FsZSgxLjkpJ1xuICB9LFxuICAnMTAwJSc6IHtcbiAgICB0cmFuc2Zvcm06ICdzY2FsZSgxKSdcbiAgfVxufSlcblxuY29uc3QgYW5pbWF0aW9uVGltaW5nID0gJ2N1YmljLWJlemllcigwLCAwLCAwLjU4LCAxKSdcbmNvbnN0IGFuaW1hdGlvbkR1cmF0aW9uID0gJzEuOHMnXG5cbmNvbnN0IHB1bHNhckFuaW1hdGlvbkNsYXNzTmFtZSA9IGNzcyh7XG4gIGFuaW1hdGlvbjogYCR7cHVsc2VBbmltYXRpb259ICR7YW5pbWF0aW9uRHVyYXRpb259ICR7YW5pbWF0aW9uVGltaW5nfSBib3RoIGluZmluaXRlYFxufSkudG9TdHJpbmcoKVxuXG5jb25zdCBQT1NJVElPTl9LRVlTID0ge1xuICBbUG9zaXRpb25zLlRPUF9MRUZUXTogWyd0b3AnLCAnbGVmdCddLFxuICBbUG9zaXRpb25zLlRPUF9SSUdIVF06IFsndG9wJywgJ3JpZ2h0J10sXG4gIFtQb3NpdGlvbnMuQk9UVE9NX0xFRlRdOiBbJ2JvdHRvbScsICdsZWZ0J10sXG4gIFtQb3NpdGlvbnMuQk9UVE9NX1JJR0hUXTogWydib3R0b20nLCAncmlnaHQnXVxufVxuXG5jb25zdCBnZXRQb3NpdGlvblByb3BzID0gKHsgcG9zaXRpb24sIHNpemUgfSkgPT4ge1xuICBjb25zdCBrZXlzID0gUE9TSVRJT05fS0VZU1twb3NpdGlvbl1cbiAgY29uc3QgcHJvcHMgPSB7fVxuXG4gIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgIGNvbnN0IGlzWUF4aXNLZXkgPSBrZXkgPT09ICd0b3AnIHx8IGtleSA9PT0gJ2JvdHRvbSdcblxuICAgIGlmIChpc1lBeGlzS2V5KSB7XG4gICAgICBwcm9wc1trZXldID0gLShzaXplIC8gMilcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvcHNba2V5XSA9IC1zaXplXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBwcm9wc1xufVxuXG5leHBvcnQgY29uc3QgUHVsc2FyID0gbWVtbygoeyBwb3NpdGlvbiA9IFBvc2l0aW9ucy5UT1BfUklHSFQsIHNpemUgPSBtYWpvclNjYWxlKDEpLCBvbkNsaWNrIH0pID0+IHtcbiAgY29uc3QgeyBjb2xvcnMgfSA9IHVzZVRoZW1lKClcbiAgY29uc3QgcG9zaXRpb25Qcm9wcyA9IGdldFBvc2l0aW9uUHJvcHMoeyBwb3NpdGlvbiwgc2l6ZSB9KVxuICBjb25zdCBvdXRlclBhZGRpbmcgPSBzaXplICogMC4yNVxuXG4gIHJldHVybiAoXG4gICAgPFBhbmVcbiAgICAgIHBvc2l0aW9uPVwiYWJzb2x1dGVcIlxuICAgICAgYm9yZGVyUmFkaXVzPVwiNTAlXCJcbiAgICAgIGJhY2tncm91bmRDb2xvcj17Y29sb3JzLmJsdWUxMDB9XG4gICAgICBib3hTaXppbmc9XCJjb250ZW50LWJveFwiXG4gICAgICBvcGFjaXR5PXswLjd9XG4gICAgICBkaXNwbGF5PVwiZmxleFwiXG4gICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCJcbiAgICAgIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCJcbiAgICAgIHBhZGRpbmc9e291dGVyUGFkZGluZ31cbiAgICAgIGNsYXNzTmFtZT17cHVsc2FyQW5pbWF0aW9uQ2xhc3NOYW1lfVxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgIGN1cnNvcj17b25DbGljayA/ICdwb2ludGVyJyA6IHVuZGVmaW5lZH1cbiAgICAgIHsuLi5wb3NpdGlvblByb3BzfVxuICAgID5cbiAgICAgIDxQYW5lIHdpZHRoPXtzaXplfSBoZWlnaHQ9e3NpemV9IGJhY2tncm91bmRDb2xvcj17Y29sb3JzLmJsdWUyMDB9IGJvcmRlclJhZGl1cz1cIjUwJVwiIG9wYWNpdHk9ezAuN30gLz5cbiAgICA8L1BhbmU+XG4gIClcbn0pXG5cblB1bHNhci5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIHB1bHNhclxuICAgKi9cbiAgcG9zaXRpb246IFByb3BUeXBlcy5vbmVPZihbUG9zaXRpb25zLlRPUF9MRUZULCBQb3NpdGlvbnMuVE9QX1JJR0hULCBQb3NpdGlvbnMuQk9UVE9NX0xFRlQsIFBvc2l0aW9ucy5CT1RUT01fUklHSFRdKSxcblxuICAvKipcbiAgICogVGhlIHdpZHRoL2hlaWdodCBvZiB0aGUgZG90XG4gICAqL1xuICBzaXplOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgUHVsc2FyIGlzIGNsaWNrZWRcbiAgICovXG4gIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jXG59XG4iXX0=
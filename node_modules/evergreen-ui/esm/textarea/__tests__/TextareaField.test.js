import _extends from "@babel/runtime/helpers/esm/extends";
import React from 'react';
import { render, fireEvent, screen } from '@testing-library/react';
import faker from 'faker';
import { TextareaField } from '..';

var makeTextareaFieldFixture = function makeTextareaFieldFixture() {
  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return /*#__PURE__*/React.createElement(TextareaField, _extends({
    "data-testid": "TextareaField",
    label: "TextareaField"
  }, props));
};

makeTextareaFieldFixture.displayName = "makeTextareaFieldFixture";
describe('TextareaField', function () {
  it('Should render', function () {
    expect(function () {
      return render(makeTextareaFieldFixture());
    }).not.toThrow();
  });
  describe('FormField props', function () {
    test('Should render label when provided', function () {
      var expected = faker.random.alphaNumeric();
      render(makeTextareaFieldFixture({
        label: expected
      }));
      expect(screen.getByLabelText(expected)).toBeInTheDocument();
    });
    test('Should render asterisk when required is true', function () {
      var label = faker.random.alphaNumeric();
      var expected = "".concat(label, " *");
      render(makeTextareaFieldFixture({
        label: label,
        required: true
      }));
      expect(screen.getByLabelText(expected)).toBeInTheDocument();
    });
    test('Should render hint when provided', function () {
      var expected = faker.random.alphaNumeric();
      render(makeTextareaFieldFixture({
        hint: expected
      }));
      expect(screen.getByText(expected)).toBeInTheDocument();
    });
    test('Should render description when provided', function () {
      var expected = faker.random.alphaNumeric();
      render(makeTextareaFieldFixture({
        description: expected
      }));
      expect(screen.getByText(expected)).toBeInTheDocument();
    });
    test('Should render validationMessage when provided', function () {
      var expected = faker.random.alphaNumeric();
      render(makeTextareaFieldFixture({
        validationMessage: expected
      }));
      expect(screen.getByText(expected)).toBeInTheDocument();
    });
    test('Should render label with `for` attribute for accessibility', function () {
      var _render = render(makeTextareaFieldFixture({
        label: faker.random.alphaNumeric()
      })),
          container = _render.container;

      var textarea = container.querySelector('textarea');
      var label = container.querySelector('label');
      expect(label).toHaveAttribute('for', textarea.id);
    });
  });
  describe('Textarea props', function () {
    it('Should be disabled when disabled is true', function () {
      var _render2 = render(makeTextareaFieldFixture({
        disabled: true
      })),
          container = _render2.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toBeDisabled();
    });
    it.each([undefined, null, false])('Should not be disabled when disabled is %p', function (disabled) {
      var _render3 = render(makeTextareaFieldFixture({
        disabled: disabled
      })),
          container = _render3.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).not.toBeDisabled();
    });
    it('Should be required when required is true', function () {
      var _render4 = render(makeTextareaFieldFixture({
        required: true
      })),
          container = _render4.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toBeRequired();
    });
    it.each([undefined, null, false])('Should not be required when required is %p', function (required) {
      var _render5 = render(makeTextareaFieldFixture({
        required: required
      })),
          container = _render5.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).not.toBeRequired();
    });
    it('Should render with placeholder when placeholder provided', function () {
      var expected = faker.random.alphaNumeric();

      var _render6 = render(makeTextareaFieldFixture({
        placeholder: expected
      })),
          container = _render6.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveAttribute('placeholder', expected);
    });
    it('Should pass through `spellCheck` prop to textarea', function () {
      var expected = faker.datatype["boolean"]();

      var _render7 = render(makeTextareaFieldFixture({
        spellCheck: expected
      })),
          container = _render7.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveAttribute('spellCheck', expected.toString());
    });
    it('Should render with `aria-invalid` when isInvalid provided', function () {
      var expected = faker.datatype["boolean"]();

      var _render8 = render(makeTextareaFieldFixture({
        isInvalid: expected
      })),
          container = _render8.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveAttribute('aria-invalid', expected.toString());
    });
    it('Should render with `data-gramm_editor` when grammarly provided', function () {
      var expected = faker.datatype["boolean"]();

      var _render9 = render(makeTextareaFieldFixture({
        grammarly: expected
      })),
          container = _render9.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveAttribute('data-gramm_editor', expected.toString());
    });
    it('Should pass through `inputWidth` prop to textarea', function () {
      var expected = faker.datatype.number({
        min: 10,
        max: 100
      });

      var _render10 = render(makeTextareaFieldFixture({
        inputWidth: expected
      })),
          container = _render10.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveStyle({
        width: "".concat(expected, "px")
      });
    });
    it('Should pass through `inputHeight` prop to textarea', function () {
      var expected = faker.datatype.number({
        min: 10,
        max: 100
      });

      var _render11 = render(makeTextareaFieldFixture({
        inputHeight: expected
      })),
          container = _render11.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveStyle({
        height: "".concat(expected, "px")
      });
    });
    it('Should call onChange when event is fired', function () {
      var onChange = jest.fn();

      var _render12 = render(makeTextareaFieldFixture({
        onChange: onChange
      })),
          container = _render12.container;

      var textarea = container.querySelector('textarea');
      fireEvent.change(textarea, {
        target: {
          value: 'test'
        }
      });
      expect(onChange).toHaveBeenCalled();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXh0YXJlYS9fX3Rlc3RzX18vVGV4dGFyZWFGaWVsZC50ZXN0LmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVuZGVyIiwiZmlyZUV2ZW50Iiwic2NyZWVuIiwiZmFrZXIiLCJUZXh0YXJlYUZpZWxkIiwibWFrZVRleHRhcmVhRmllbGRGaXh0dXJlIiwicHJvcHMiLCJkZXNjcmliZSIsIml0IiwiZXhwZWN0Iiwibm90IiwidG9UaHJvdyIsInRlc3QiLCJleHBlY3RlZCIsInJhbmRvbSIsImFscGhhTnVtZXJpYyIsImxhYmVsIiwiZ2V0QnlMYWJlbFRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsInJlcXVpcmVkIiwiaGludCIsImdldEJ5VGV4dCIsImRlc2NyaXB0aW9uIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJjb250YWluZXIiLCJ0ZXh0YXJlYSIsInF1ZXJ5U2VsZWN0b3IiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJpZCIsImRpc2FibGVkIiwidG9CZURpc2FibGVkIiwiZWFjaCIsInVuZGVmaW5lZCIsInRvQmVSZXF1aXJlZCIsInBsYWNlaG9sZGVyIiwiZGF0YXR5cGUiLCJzcGVsbENoZWNrIiwidG9TdHJpbmciLCJpc0ludmFsaWQiLCJncmFtbWFybHkiLCJudW1iZXIiLCJtaW4iLCJtYXgiLCJpbnB1dFdpZHRoIiwidG9IYXZlU3R5bGUiLCJ3aWR0aCIsImlucHV0SGVpZ2h0IiwiaGVpZ2h0Iiwib25DaGFuZ2UiLCJqZXN0IiwiZm4iLCJjaGFuZ2UiLCJ0YXJnZXQiLCJ2YWx1ZSIsInRvSGF2ZUJlZW5DYWxsZWQiXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPQSxLQUFQLE1BQWtCLE9BQWxCO0FBQ0EsU0FBU0MsTUFBVCxFQUFpQkMsU0FBakIsRUFBNEJDLE1BQTVCLFFBQTBDLHdCQUExQztBQUNBLE9BQU9DLEtBQVAsTUFBa0IsT0FBbEI7QUFDQSxTQUFTQyxhQUFULFFBQThCLElBQTlCOztBQUVBLElBQU1DLHdCQUF3QixHQUFHLFNB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LE1BQWYsQ0FBc0I7QUFBRUMsUUFBQUEsR0FBRyxFQUFFLEVBQVA7QUFBV0MsUUFBQUEsR0FBRyxFQUFFO0FBQWhCLE9BQXRCLENBQWpCOztBQUNBLHNCQUFzQjFDLE1BQU0sQ0FBQ0ssd0JBQXdCLENBQUM7QUFBRXlDLFFBQUFBLFdBQVcsRUFBRWpDO0FBQWYsT0FBRCxDQUF6QixDQUE1QjtBQUFBLFVBQVFXLFNBQVIsYUFBUUEsU0FBUjs7QUFFQSxVQUFNQyxRQUFRLEdBQUdELFNBQVMsQ0FBQ0UsYUFBVixDQUF3QixVQUF4QixDQUFqQjtBQUNBakIsTUFBQUEsTUFBTSxDQUFDZ0IsUUFBRCxDQUFOLENBQWlCbUIsV0FBakIsQ0FBNkI7QUFBRUcsUUFBQUEsTUFBTSxZQUFLbEMsUUFBTDtBQUFSLE9BQTdCO0FBQ0QsS0FOQyxDQUFGO0FBUUFMLElBQUFBLEVBQUUsQ0FBQywwQ0FBRCxFQUE2QyxZQUFNO0FBQ25ELFVBQU13QyxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsRUFBTCxFQUFqQjs7QUFDQSxzQkFBc0JsRCxNQUFNLENBQUNLLHdCQUF3QixDQUFDO0FBQUUyQyxRQUFBQSxRQUFRLEVBQVJBO0FBQUYsT0FBRCxDQUF6QixDQUE1QjtBQUFBLFVBQVF4QixTQUFSLGFBQVFBLFNBQVI7O0FBRUEsVUFBTUMsUUFBUSxHQUFHRCxTQUFTLENBQUNFLGFBQVYsQ0FBd0IsVUFBeEIsQ0FBakI7QUFDQXpCLE1BQUFBLFNBQVMsQ0FBQ2tELE1BQVYsQ0FBaUIxQixRQUFqQixFQUEyQjtBQUFFMkIsUUFBQUEsTUFBTSxFQUFFO0FBQUVDLFVBQUFBLEtBQUssRUFBRTtBQUFUO0FBQVYsT0FBM0I7QUFDQTVDLE1BQUFBLE1BQU0sQ0FBQ3VDLFFBQUQsQ0FBTixDQUFpQk0sZ0JBQWpCO0FBQ0QsS0FQQyxDQUFGO0FBUUQsR0FyRk8sQ0FBUjtBQXNGRCxDQXpJTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQsIHNjcmVlbiB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnXG5pbXBvcnQgZmFrZXIgZnJvbSAnZmFrZXInXG5pbXBvcnQgeyBUZXh0YXJlYUZpZWxkIH0gZnJvbSAnLi4nXG5cbmNvbnN0IG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSA9IChwcm9wcyA9IHt9KSA9PiAoXG4gIDxUZXh0YXJlYUZpZWxkIGRhdGEtdGVzdGlkPVwiVGV4dGFyZWFGaWVsZFwiIGxhYmVsPVwiVGV4dGFyZWFGaWVsZFwiIHsuLi5wcm9wc30gLz5cbilcblxuZGVzY3JpYmUoJ1RleHRhcmVhRmllbGQnLCAoKSA9PiB7XG4gIGl0KCdTaG91bGQgcmVuZGVyJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiByZW5kZXIobWFrZVRleHRhcmVhRmllbGRGaXh0dXJlKCkpKS5ub3QudG9UaHJvdygpXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0Zvcm1GaWVsZCBwcm9wcycsICgpID0+IHtcbiAgICB0ZXN0KCdTaG91bGQgcmVuZGVyIGxhYmVsIHdoZW4gcHJvdmlkZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBleHBlY3RlZCA9IGZha2VyLnJhbmRvbS5hbHBoYU51bWVyaWMoKVxuICAgICAgcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IGxhYmVsOiBleHBlY3RlZCB9KSlcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dChleHBlY3RlZCkpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuXG4gICAgdGVzdCgnU2hvdWxkIHJlbmRlciBhc3RlcmlzayB3aGVuIHJlcXVpcmVkIGlzIHRydWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBsYWJlbCA9IGZha2VyLnJhbmRvbS5hbHBoYU51bWVyaWMoKVxuICAgICAgY29uc3QgZXhwZWN0ZWQgPSBgJHtsYWJlbH0gKmBcbiAgICAgIHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyBsYWJlbCwgcmVxdWlyZWQ6IHRydWUgfSkpXG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoZXhwZWN0ZWQpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIHRlc3QoJ1Nob3VsZCByZW5kZXIgaGludCB3aGVuIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5yYW5kb20uYWxwaGFOdW1lcmljKClcbiAgICAgIHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyBoaW50OiBleHBlY3RlZCB9KSlcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoZXhwZWN0ZWQpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIHRlc3QoJ1Nob3VsZCByZW5kZXIgZGVzY3JpcHRpb24gd2hlbiBwcm92aWRlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGV4cGVjdGVkID0gZmFrZXIucmFuZG9tLmFscGhhTnVtZXJpYygpXG4gICAgICByZW5kZXIobWFrZVRleHRhcmVhRmllbGRGaXh0dXJlKHsgZGVzY3JpcHRpb246IGV4cGVjdGVkIH0pKVxuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChleHBlY3RlZCkpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuXG4gICAgdGVzdCgnU2hvdWxkIHJlbmRlciB2YWxpZGF0aW9uTWVzc2FnZSB3aGVuIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5yYW5kb20uYWxwaGFOdW1lcmljKClcbiAgICAgIHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyB2YWxpZGF0aW9uTWVzc2FnZTogZXhwZWN0ZWQgfSkpXG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KGV4cGVjdGVkKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdTaG91bGQgcmVuZGVyIGxhYmVsIHdpdGggYGZvcmAgYXR0cmlidXRlIGZvciBhY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyBsYWJlbDogZmFrZXIucmFuZG9tLmFscGhhTnVtZXJpYygpIH0pKVxuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICBjb25zdCBsYWJlbCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpXG4gICAgICBleHBlY3QobGFiZWwpLnRvSGF2ZUF0dHJpYnV0ZSgnZm9yJywgdGV4dGFyZWEuaWQpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnVGV4dGFyZWEgcHJvcHMnLCAoKSA9PiB7XG4gICAgaXQoJ1Nob3VsZCBiZSBkaXNhYmxlZCB3aGVuIGRpc2FibGVkIGlzIHRydWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IGRpc2FibGVkOiB0cnVlIH0pKVxuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICBleHBlY3QodGV4dGFyZWEpLnRvQmVEaXNhYmxlZCgpXG4gICAgfSlcblxuICAgIGl0LmVhY2goW3VuZGVmaW5lZCwgbnVsbCwgZmFsc2VdKSgnU2hvdWxkIG5vdCBiZSBkaXNhYmxlZCB3aGVuIGRpc2FibGVkIGlzICVwJywgZGlzYWJsZWQgPT4ge1xuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyBkaXNhYmxlZCB9KSlcblxuICAgICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgICAgZXhwZWN0KHRleHRhcmVhKS5ub3QudG9CZURpc2FibGVkKClcbiAgICB9KVxuXG4gICAgaXQoJ1Nob3VsZCBiZSByZXF1aXJlZCB3aGVuIHJlcXVpcmVkIGlzIHRydWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IHJlcXVpcmVkOiB0cnVlIH0pKVxuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICBleHBlY3QodGV4dGFyZWEpLnRvQmVSZXF1aXJlZCgpXG4gICAgfSlcblxuICAgIGl0LmVhY2goW3VuZGVmaW5lZCwgbnVsbCwgZmFsc2VdKSgnU2hvdWxkIG5vdCBiZSByZXF1aXJlZCB3aGVuIHJlcXVpcmVkIGlzICVwJywgcmVxdWlyZWQgPT4ge1xuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyByZXF1aXJlZCB9KSlcblxuICAgICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgICAgZXhwZWN0KHRleHRhcmVhKS5ub3QudG9CZVJlcXVpcmVkKClcbiAgICB9KVxuXG4gICAgaXQoJ1Nob3VsZCByZW5kZXIgd2l0aCBwbGFjZWhvbGRlciB3aGVuIHBsYWNlaG9sZGVyIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5yYW5kb20uYWxwaGFOdW1lcmljKClcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRmllbGRGaXh0dXJlKHsgcGxhY2Vob2xkZXI6IGV4cGVjdGVkIH0pKVxuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICBleHBlY3QodGV4dGFyZWEpLnRvSGF2ZUF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBleHBlY3RlZClcbiAgICB9KVxuXG4gICAgaXQoJ1Nob3VsZCBwYXNzIHRocm91Z2ggYHNwZWxsQ2hlY2tgIHByb3AgdG8gdGV4dGFyZWEnLCAoKSA9PiB7XG4gICAgICBjb25zdCBleHBlY3RlZCA9IGZha2VyLmRhdGF0eXBlLmJvb2xlYW4oKVxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyBzcGVsbENoZWNrOiBleHBlY3RlZCB9KSlcblxuICAgICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgICAgZXhwZWN0KHRleHRhcmVhKS50b0hhdmVBdHRyaWJ1dGUoJ3NwZWxsQ2hlY2snLCBleHBlY3RlZC50b1N0cmluZygpKVxuICAgIH0pXG5cbiAgICBpdCgnU2hvdWxkIHJlbmRlciB3aXRoIGBhcmlhLWludmFsaWRgIHdoZW4gaXNJbnZhbGlkIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5kYXRhdHlwZS5ib29sZWFuKClcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRmllbGRGaXh0dXJlKHsgaXNJbnZhbGlkOiBleHBlY3RlZCB9KSlcblxuICAgICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgICAgZXhwZWN0KHRleHRhcmVhKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsIGV4cGVjdGVkLnRvU3RyaW5nKCkpXG4gICAgfSlcblxuICAgIGl0KCdTaG91bGQgcmVuZGVyIHdpdGggYGRhdGEtZ3JhbW1fZWRpdG9yYCB3aGVuIGdyYW1tYXJseSBwcm92aWRlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGV4cGVjdGVkID0gZmFrZXIuZGF0YXR5cGUuYm9vbGVhbigpXG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IGdyYW1tYXJseTogZXhwZWN0ZWQgfSkpXG5cbiAgICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9IYXZlQXR0cmlidXRlKCdkYXRhLWdyYW1tX2VkaXRvcicsIGV4cGVjdGVkLnRvU3RyaW5nKCkpXG4gICAgfSlcblxuICAgIGl0KCdTaG91bGQgcGFzcyB0aHJvdWdoIGBpbnB1dFdpZHRoYCBwcm9wIHRvIHRleHRhcmVhJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5kYXRhdHlwZS5udW1iZXIoeyBtaW46IDEwLCBtYXg6IDEwMCB9KVxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyBpbnB1dFdpZHRoOiBleHBlY3RlZCB9KSlcblxuICAgICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgICAgZXhwZWN0KHRleHRhcmVhKS50b0hhdmVTdHlsZSh7IHdpZHRoOiBgJHtleHBlY3RlZH1weGAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ1Nob3VsZCBwYXNzIHRocm91Z2ggYGlucHV0SGVpZ2h0YCBwcm9wIHRvIHRleHRhcmVhJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5kYXRhdHlwZS5udW1iZXIoeyBtaW46IDEwLCBtYXg6IDEwMCB9KVxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyBpbnB1dEhlaWdodDogZXhwZWN0ZWQgfSkpXG5cbiAgICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9IYXZlU3R5bGUoeyBoZWlnaHQ6IGAke2V4cGVjdGVkfXB4YCB9KVxuICAgIH0pXG5cbiAgICBpdCgnU2hvdWxkIGNhbGwgb25DaGFuZ2Ugd2hlbiBldmVudCBpcyBmaXJlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG9uQ2hhbmdlID0gamVzdC5mbigpXG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IG9uQ2hhbmdlIH0pKVxuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHRleHRhcmVhLCB7IHRhcmdldDogeyB2YWx1ZTogJ3Rlc3QnIH0gfSlcbiAgICAgIGV4cGVjdChvbkNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgfSlcbiAgfSlcbn0pXG4iXX0=
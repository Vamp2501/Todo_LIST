import _extends from "@babel/runtime/helpers/esm/extends";
import React from 'react';
import { render, fireEvent } from '@testing-library/react';
import faker from 'faker';
import { Textarea } from '..';

var makeTextareaFixture = function makeTextareaFixture() {
  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return /*#__PURE__*/React.createElement(Textarea, _extends({
    "data-testid": "Textarea"
  }, props));
};

makeTextareaFixture.displayName = "makeTextareaFixture";
describe('Textarea', function () {
  it('Should render', function () {
    expect(function () {
      return render(makeTextareaFixture());
    }).not.toThrow();
  });
  it('Should be disabled when disabled is true', function () {
    var _render = render(makeTextareaFixture({
      disabled: true
    })),
        container = _render.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toBeDisabled();
  });
  it.each([undefined, null, false])('Should not be disabled when disabled is %p', function (disabled) {
    var _render2 = render(makeTextareaFixture({
      disabled: disabled
    })),
        container = _render2.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).not.toBeDisabled();
  });
  it('Should be required when required is true', function () {
    var _render3 = render(makeTextareaFixture({
      required: true
    })),
        container = _render3.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toBeRequired();
  });
  it.each([undefined, null, false])('Should not be required when required is %p', function (required) {
    var _render4 = render(makeTextareaFixture({
      required: required
    })),
        container = _render4.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).not.toBeRequired();
  });
  it('Should render with placeholder when placeholder provided', function () {
    var expected = faker.random.alphaNumeric();

    var _render5 = render(makeTextareaFixture({
      placeholder: expected
    })),
        container = _render5.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveAttribute('placeholder', expected);
  });
  it('Should pass through `spellCheck` prop to textarea', function () {
    var expected = faker.datatype["boolean"]();

    var _render6 = render(makeTextareaFixture({
      spellCheck: expected
    })),
        container = _render6.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveAttribute('spellCheck', expected.toString());
  });
  it('Should render with `aria-invalid` when isInvalid provided', function () {
    var expected = faker.datatype["boolean"]();

    var _render7 = render(makeTextareaFixture({
      isInvalid: expected
    })),
        container = _render7.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveAttribute('aria-invalid', expected.toString());
  });
  it('Should render with `data-gramm_editor` when grammarly provided', function () {
    var expected = faker.datatype["boolean"]();

    var _render8 = render(makeTextareaFixture({
      grammarly: expected
    })),
        container = _render8.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveAttribute('data-gramm_editor', expected.toString());
  });
  it('Should pass through `width` prop to textarea', function () {
    var expected = faker.datatype.number({
      min: 10,
      max: 100
    });

    var _render9 = render(makeTextareaFixture({
      width: expected
    })),
        container = _render9.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveStyle({
      width: "".concat(expected, "px")
    });
  });
  it('Should pass through `height` prop to textarea', function () {
    var expected = faker.datatype.number({
      min: 10,
      max: 100
    });

    var _render10 = render(makeTextareaFixture({
      height: expected
    })),
        container = _render10.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveStyle({
      height: "".concat(expected, "px")
    });
  });
  it('Should call onChange when event is fired', function () {
    var onChange = jest.fn();

    var _render11 = render(makeTextareaFixture({
      onChange: onChange
    })),
        container = _render11.container;

    var textarea = container.querySelector('textarea');
    fireEvent.change(textarea, {
      target: {
        value: 'test'
      }
    });
    expect(onChange).toHaveBeenCalled();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXh0YXJlYS9fX3Rlc3RzX18vVGV4dGFyZWEudGVzdC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlbmRlciIsImZpcmVFdmVudCIsImZha2VyIiwiVGV4dGFyZWEiLCJtYWtlVGV4dGFyZWFGaXh0dXJlIiwicHJvcHMiLCJkZXNjcmliZSIsIml0IiwiZXhwZWN0Iiwibm90IiwidG9UaHJvdyIsImRpc2FibGVkIiwiY29udGFpbmVyIiwidGV4dGFyZWEiLCJxdWVyeVNlbGVjdG9yIiwidG9CZURpc2FibGVkIiwiZWFjaCIsInVuZGVmaW5lZCIsInJlcXVpcmVkIiwidG9CZVJlcXVpcmVkIiwiZXhwZWN0ZWQiLCJyYW5kb20iLCJhbHBoYU51bWVyaWMiLCJwbGFjZWhvbGRlciIsInRvSGF2ZUF0dHJpYnV0ZSIsImRhdGF0eXBlIiwic3BlbGxDaGVjayIsInRvU3RyaW5nIiwiaXNJbnZhbGlkIiwiZ3JhbW1hcmx5IiwibnVtYmVyIiwibWluIiwibWF4Iiwid2lkdGgiLCJ0b0hhdmVTdHlsZSIsImhlaWdodCIsIm9uQ2hhbmdlIiwiamVzdCIsImZuIiwiY2hhbmdlIiwidGFyZ2V0IiwidmFsdWUiLCJ0b0hhdmVCZWVuQ2FsbGVkIl0sIm1hcHBpbmdzIjoiO0FBQUEsT0FBT0EsS0FBUCxNQUFrQixPQUFsQjtBQUNBLFNBQVNDLE1BQVQsRUFBaUJDLFNBQWpCLFFBQWtDLHdCQUFsQztBQUNBLE9BQU9DLEtBQVAsTUFBa0IsT0FBbEI7QUFDQSxTQUFTQyxRQUFULFFBQXlCLElBQXpCOztBQUVBLElBQU1DLG1CQUFtQixHQUFHLFNBQXRCQSxtQkFBc0I7QUFBQSxNQUFDQyxLQUFELHVFQUFTLEVBQVQ7QUFBQSxzQkFBZ0Isb0JBQUMsUUFBRDtBQUFVLG1CQUFZO0FBQXRCLEtBQXFDQSxLQUFyQyxFQUFoQjtBQUFBLENBQTVCOztBQUFNRCxtQjtBQUVORSxRQUFRLENBQUMsVUFBRCxFQUFhLFlBQU07QUFDekJDLEVBQUFBLEVBQUUsQ0FBQyxlQUFELEVBQWtCLFlBQU07QUFDeEJDLElBQUFBLE1BQU0sQ0FBQztBQUFBLGFBQU1SLE1BQU0sQ0FBQ0ksbUJBQW1CLEVBQXBCLENBQVo7QUFBQSxLQUFELENBQU4sQ0FBNENLLEdBQTVDLENBQWdEQyxPQUFoRDtBQUNELEdBRkMsQ0FBRjtBQUlBSCxFQUFBQSxFQUFFLENBQUMsMENBQUQsRUFBNkMsWUFBTTtBQUNuRCxrQkFBc0JQLE1BQU0sQ0FBQ0ksbUJBQW1CLENBQUM7QUFBRU8sTUFBQUEsUUFBUSxFQUFFO0FBQVosS0FBRCxDQUFwQixDQUE1QjtBQUFBLFFBQVFDLFNBQVIsV0FBUUEsU0FBUjs7QUFFQSxRQUFNQyxRQUFRLEdBQUdELFNBQVMsQ0FBQ0UsYUFBVixDQUF3QixVQUF4QixDQUFqQjtBQUNBTixJQUFBQSxNQUFNLENBQUNLLFFBQUQsQ0FBTixDQUFpQkUsWUFBakI7QUFDRCxHQUxDLENBQUY7QUFPQVIsRUFBQUEsRUFBRSxDQUFDUyxJQUFILENBQVEsQ0FBQ0MsU0FBRCxFQUFZLElBQVosRUFBa0IsS0FBbEIsQ0FBUixFQUFrQyw0Q0FBbEMsRUFBZ0YsVUFBQU4sUUFBUSxFQUFJO0FBQzFGLG1CQUFzQlgsTUFBTSxDQUFDSSxtQkFBbUIsQ0FBQztBQUFFTyxNQUFBQSxRQUFRLEVBQVJBO0FBQUYsS0FBRCxDQUFwQixDQUE1QjtBQUFBLFFBQVFDLFNBQVIsWUFBUUEsU0FBUjs7QUFFQSxRQUFNQyxRQUFRLEdBQUdELFNBQVMsQ0FBQ0UsYUFBVixDQUF3QixVQUF4QixDQUFqQjtBQUNBTixJQUFBQSxNQUFNLENBQUNLLFFBQUQsQ0FBTixDQUFpQkosR0FBakIsQ0FBcUJNLFlBQXJCO0FBQ0QsR0FMRDtBQU9BUixFQUFBQSxFQUFFLENBQUMsMENBQUQsRUFBNkMsWUFBTTtBQUNuRCxtQkFBc0JQLE1BQU0sQ0FBQ0ksbUJBQW1CLENBQUM7QUFBRWMsTUFBQUEsUUFBUSxFQUFFO0FBQVosS0FBRCxDQUFwQixDQUE1QjtBQUFBLFFBQVFOLFNBQVIsWUFBUUEsU0FBUjs7QUFFQSxRQUFNQyxRQUFRLEdBQUdELFNBQVMsQ0FBQ0UsYUFBVixDQUF3QixVQUF4QixDQUFqQjtBQUNBTixJQUFBQSxNQUFNLENBQUNLLFFBQUQsQ0FBTixDQUFpQk0sWUFBakI7QUFDRCxHQUxDLENBQUY7QUFPQVosRUFBQUEsRUFBRSxDQUFDUyxJQUFILENBQVEsQ0FBQ0MsU0FBRCxFQUFZLElBQVosRUFBa0IsS0FBbEIsQ0FBUixFQUFrQyw0Q0FBbEMsRUFBZ0YsVUFBQUMsUUFBUSxFQUFJO0FBQzFGLG1CQUFzQmxCLE1BQU0sQ0FBQ0ksbUJBQW1CLENBQUM7QUFBRWMsTUFBQUEsUUFBUSxFQUFSQTtBQUFGLEtBQUQsQ0FBcEIsQ0FBNUI7QUFBQSxRQUFRTixTQUFSLFlBQVFBLFNBQVI7O0FBRUEsUUFBTUMsUUFBUSxHQUFHRCxTQUFTLENBQUNFLGFBQVYsQ0FBd0IsVUFBeEIsQ0FBakI7QUFDQU4sSUFBQUEsTUFBTSxDQUFDSyxRQUFELENBQU4sQ0FBaUJKLEdBQWpCLENBQXFCVSxZQUFyQjtBQUNELEdBTEQ7QUFPQVosRUFBQUEsRUFBRSxDQUFDLDBEQUFELEVBQTZELFlBQU07QUFDbkUsUUFBTWEsUUFBUSxHQUFHbEIsS0FBSyxDQUFDbUIsTUFBTixDQUFhQyxZQUFiLEVBQWpCOztBQUNBLG1CQUFzQnRCLE1BQU0sQ0FBQ0ksbUJBQW1CLENBQUM7QUFBRW1CLE1BQUFBLFdBQVcsRUFBRUg7QUFBZixLQUFELENBQXBCLENBQTVCO0FBQUEsUUFBUVIsU0FBUixZQUFRQSxTQUFSOztBQUVBLFFBQU1DLFFBQVEsR0FBR0QsU0FBUyxDQUFDRSxhQUFWLENBQXdCLFVBQXhCLENBQWpCO0FBQ0FOLElBQUFBLE1BQU0sQ0FBQ0ssUUFBRCxDQUFOLENBQWlCVyxlQUFqQixDQUFpQyxhQUFqQyxFQUFnREosUUFBaEQ7QUFDRCxHQU5DLENBQUY7QUFRQWIsRUFBQUEsRUFBRSxDQUFDLG1EQUFELEVBQXNELFlBQU07QUFDNUQsUUFBTWEsUUFBUSxHQUFHbEIsS0FBSyxDQUFDdUIsUUFBTixhQUFqQjs7QUFDQSxtQkFBc0J6QixNQUFNLENBQUNJLG1CQUFtQixDQUFDO0FBQUVzQixNQUFBQSxVQUFVLEVBQUVOO0FBQWQsS0FBRCxDQUFwQixDQUE1QjtBQUFBLFFBQVFSLFNBQVIsWUFBUUEsU0FBUjs7QUFFQSxRQUFNQyxRQUFRLEdBQUdELFNBQVMsQ0FBQ0UsYUFBVixDQUF3QixVQUF4QixDQUFqQjtBQUNBTixJQUFBQSxNQUFNLENBQUNLLFFBQUQsQ0FBTixDQUFpQlcsZUFBakIsQ0FBaUMsWUFBakMsRUFBK0NKLFFBQVEsQ0FBQ08sUUFBVCxFQUEvQztBQUNELEdBTkMsQ0FBRjtBQVFBcEIsRUFBQUEsRUFBRSxDQUFDLDJEQUFELEVBQThELFlBQU07QUFDcEUsUUFBTWEsUUFBUSxHQUFHbEIsS0FBSyxDQUFDdUIsUUFBTixhQUFqQjs7QUFDQSxtQkFBc0J6QixNQUFNLENBQUNJLG1CQUFtQixDQUFDO0FBQUV3QixNQUFBQSxTQUFTLEVBQUVSO0FBQWIsS0FBRCxDQUFwQixDQUE1QjtBQUFBLFFBQVFSLFNBQVIsWUFBUUEsU0FBUjs7QUFFQSxRQUFNQyxRQUFRLEdBQUdELFNBQVMsQ0FBQ0UsYUFBVixDQUF3QixVQUF4QixDQUFqQjtBQUNBTixJQUFBQSxNQUFNLENBQUNLLFFBQUQsQ0FBTixDQUFpQlcsZUFBakIsQ0FBaUMsY0FBakMsRUFBaURKLFFBQVEsQ0FBQ08sUUFBVCxFQUFqRDtBQUNELEdBTkMsQ0FBRjtBQVFBcEIsRUFBQUEsRUFBRSxDQUFDLGdFQUFELEVBQW1FLFlBQU07QUFDekUsUUFBTWEsUUFBUSxHQUFHbEIsS0FBSyxDQUFDdUIsUUFBTixhQUFqQjs7QUFDQSxtQkFBc0J6QixNQUFNLENBQUNJLG1CQUFtQixDQUFDO0FBQUV5QixNQUFBQSxTQUFTLEVBQUVUO0FBQWIsS0FBRCxDQUFwQixDQUE1QjtBQUFBLFFBQVFSLFNBQVIsWUFBUUEsU0FBUjs7QUFFQSxRQUFNQyxRQUFRLEdBQUdELFNBQVMsQ0FBQ0UsYUFBVixDQUF3QixVQUF4QixDQUFqQjtBQUNBTixJQUFBQSxNQUFNLENBQUNLLFFBQUQsQ0FBTixDQUFpQlcsZUFBakIsQ0FBaUMsbUJBQWpDLEVBQXNESixRQUFRLENBQUNPLFFBQVQsRUFBdEQ7QUFDRCxHQU5DLENBQUY7QUFRQXBCLEVBQUFBLEVBQUUsQ0FBQyw4Q0FBRCxFQUFpRCxZQUFNO0FBQ3ZELFFBQU1hLFFBQVEsR0FBR2xCLEtBQUssQ0FBQ3VCLFFBQU4sQ0FBZUssTUFBZixDQUFzQjtBQUFFQyxNQUFBQSxHQUFHLEVBQUUsRUFBUDtBQUFXQyxNQUFBQSxHQUFHLEVBQUU7QUFBaEIsS0FBdEIsQ0FBakI7O0FBQ0EsbUJBQXNCaEMsTUFBTSxDQUFDSSxtQkFBbUIsQ0FBQztBQUFFNkIsTUFBQUEsS0FBSyxFQUFFYjtBQUFULEtBQUQsQ0FBcEIsQ0FBNUI7QUFBQSxRQUFRUixTQUFSLFlBQVFBLFNBQVI7O0FBRUEsUUFBTUMsUUFBUSxHQUFHRCxTQUFTLENBQUNFLGFBQVYsQ0FBd0IsVUFBeEIsQ0FBakI7QUFDQU4sSUFBQUEsTUFBTSxDQUFDSyxRQUFELENBQU4sQ0FBaUJxQixXQUFqQixDQUE2QjtBQUFFRCxNQUFBQSxLQUFLLFlBQUtiLFFBQUw7QUFBUCxLQUE3QjtBQUNELEdBTkMsQ0FBRjtBQVFBYixFQUFBQSxFQUFFLENBQUMsK0NBQUQsRUFBa0QsWUFBTTtBQUN4RCxRQUFNYSxRQUFRLEdBQUdsQixLQUFLLENBQUN1QixRQUFOLENBQWVLLE1BQWYsQ0FBc0I7QUFBRUMsTUFBQUEsR0FBRyxFQUFFLEVBQVA7QUFBV0MsTUFBQUEsR0FBRyxFQUFFO0FBQWhCLEtBQXRCLENBQWpCOztBQUNBLG9CQUFzQmhDLE1BQU0sQ0FBQ0ksbUJBQW1CLENBQUM7QUFBRStCLE1BQUFBLE1BQU0sRUFBRWY7QUFBVixLQUFELENBQXBCLENBQTVCO0FBQUEsUUFBUVIsU0FBUixhQUFRQSxTQUFSOztBQUVBLFFBQU1DLFFBQVEsR0FBR0QsU0FBUyxDQUFDRSxhQUFWLENBQXdCLFVBQXhCLENBQWpCO0FBQ0FOLElBQUFBLE1BQU0sQ0FBQ0ssUUFBRCxDQUFOLENBQWlCcUIsV0FBakIsQ0FBNkI7QUFBRUMsTUFBQUEsTUFBTSxZQUFLZixRQUFMO0FBQVIsS0FBN0I7QUFDRCxHQU5DLENBQUY7QUFRQWIsRUFBQUEsRUFBRSxDQUFDLDBDQUFELEVBQTZDLFlBQU07QUFDbkQsUUFBTTZCLFFBQVEsR0FBR0MsSUFBSSxDQUFDQyxFQUFMLEVBQWpCOztBQUNBLG9CQUFzQnRDLE1BQU0sQ0FBQ0ksbUJBQW1CLENBQUM7QUFBRWdDLE1BQUFBLFFBQVEsRUFBUkE7QUFBRixLQUFELENBQXBCLENBQTVCO0FBQUEsUUFBUXhCLFNBQVIsYUFBUUEsU0FBUjs7QUFFQSxRQUFNQyxRQUFRLEdBQUdELFNBQVMsQ0FBQ0UsYUFBVixDQUF3QixVQUF4QixDQUFqQjtBQUNBYixJQUFBQSxTQUFTLENBQUNzQyxNQUFWLENBQWlCMUIsUUFBakIsRUFBMkI7QUFBRTJCLE1BQUFBLE1BQU0sRUFBRTtBQUFFQyxRQUFBQSxLQUFLLEVBQUU7QUFBVDtBQUFWLEtBQTNCO0FBQ0FqQyxJQUFBQSxNQUFNLENBQUM0QixRQUFELENBQU4sQ0FBaUJNLGdCQUFqQjtBQUNELEdBUEMsQ0FBRjtBQVFELENBekZPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnXG5pbXBvcnQgZmFrZXIgZnJvbSAnZmFrZXInXG5pbXBvcnQgeyBUZXh0YXJlYSB9IGZyb20gJy4uJ1xuXG5jb25zdCBtYWtlVGV4dGFyZWFGaXh0dXJlID0gKHByb3BzID0ge30pID0+IDxUZXh0YXJlYSBkYXRhLXRlc3RpZD1cIlRleHRhcmVhXCIgey4uLnByb3BzfSAvPlxuXG5kZXNjcmliZSgnVGV4dGFyZWEnLCAoKSA9PiB7XG4gIGl0KCdTaG91bGQgcmVuZGVyJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiByZW5kZXIobWFrZVRleHRhcmVhRml4dHVyZSgpKSkubm90LnRvVGhyb3coKVxuICB9KVxuXG4gIGl0KCdTaG91bGQgYmUgZGlzYWJsZWQgd2hlbiBkaXNhYmxlZCBpcyB0cnVlJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRml4dHVyZSh7IGRpc2FibGVkOiB0cnVlIH0pKVxuXG4gICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9CZURpc2FibGVkKClcbiAgfSlcblxuICBpdC5lYWNoKFt1bmRlZmluZWQsIG51bGwsIGZhbHNlXSkoJ1Nob3VsZCBub3QgYmUgZGlzYWJsZWQgd2hlbiBkaXNhYmxlZCBpcyAlcCcsIGRpc2FibGVkID0+IHtcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpeHR1cmUoeyBkaXNhYmxlZCB9KSlcblxuICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICBleHBlY3QodGV4dGFyZWEpLm5vdC50b0JlRGlzYWJsZWQoKVxuICB9KVxuXG4gIGl0KCdTaG91bGQgYmUgcmVxdWlyZWQgd2hlbiByZXF1aXJlZCBpcyB0cnVlJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRml4dHVyZSh7IHJlcXVpcmVkOiB0cnVlIH0pKVxuXG4gICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9CZVJlcXVpcmVkKClcbiAgfSlcblxuICBpdC5lYWNoKFt1bmRlZmluZWQsIG51bGwsIGZhbHNlXSkoJ1Nob3VsZCBub3QgYmUgcmVxdWlyZWQgd2hlbiByZXF1aXJlZCBpcyAlcCcsIHJlcXVpcmVkID0+IHtcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpeHR1cmUoeyByZXF1aXJlZCB9KSlcblxuICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICBleHBlY3QodGV4dGFyZWEpLm5vdC50b0JlUmVxdWlyZWQoKVxuICB9KVxuXG4gIGl0KCdTaG91bGQgcmVuZGVyIHdpdGggcGxhY2Vob2xkZXIgd2hlbiBwbGFjZWhvbGRlciBwcm92aWRlZCcsICgpID0+IHtcbiAgICBjb25zdCBleHBlY3RlZCA9IGZha2VyLnJhbmRvbS5hbHBoYU51bWVyaWMoKVxuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRml4dHVyZSh7IHBsYWNlaG9sZGVyOiBleHBlY3RlZCB9KSlcblxuICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICBleHBlY3QodGV4dGFyZWEpLnRvSGF2ZUF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBleHBlY3RlZClcbiAgfSlcblxuICBpdCgnU2hvdWxkIHBhc3MgdGhyb3VnaCBgc3BlbGxDaGVja2AgcHJvcCB0byB0ZXh0YXJlYScsICgpID0+IHtcbiAgICBjb25zdCBleHBlY3RlZCA9IGZha2VyLmRhdGF0eXBlLmJvb2xlYW4oKVxuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRml4dHVyZSh7IHNwZWxsQ2hlY2s6IGV4cGVjdGVkIH0pKVxuXG4gICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9IYXZlQXR0cmlidXRlKCdzcGVsbENoZWNrJywgZXhwZWN0ZWQudG9TdHJpbmcoKSlcbiAgfSlcblxuICBpdCgnU2hvdWxkIHJlbmRlciB3aXRoIGBhcmlhLWludmFsaWRgIHdoZW4gaXNJbnZhbGlkIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgIGNvbnN0IGV4cGVjdGVkID0gZmFrZXIuZGF0YXR5cGUuYm9vbGVhbigpXG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaXh0dXJlKHsgaXNJbnZhbGlkOiBleHBlY3RlZCB9KSlcblxuICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICBleHBlY3QodGV4dGFyZWEpLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgZXhwZWN0ZWQudG9TdHJpbmcoKSlcbiAgfSlcblxuICBpdCgnU2hvdWxkIHJlbmRlciB3aXRoIGBkYXRhLWdyYW1tX2VkaXRvcmAgd2hlbiBncmFtbWFybHkgcHJvdmlkZWQnLCAoKSA9PiB7XG4gICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5kYXRhdHlwZS5ib29sZWFuKClcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpeHR1cmUoeyBncmFtbWFybHk6IGV4cGVjdGVkIH0pKVxuXG4gICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9IYXZlQXR0cmlidXRlKCdkYXRhLWdyYW1tX2VkaXRvcicsIGV4cGVjdGVkLnRvU3RyaW5nKCkpXG4gIH0pXG5cbiAgaXQoJ1Nob3VsZCBwYXNzIHRocm91Z2ggYHdpZHRoYCBwcm9wIHRvIHRleHRhcmVhJywgKCkgPT4ge1xuICAgIGNvbnN0IGV4cGVjdGVkID0gZmFrZXIuZGF0YXR5cGUubnVtYmVyKHsgbWluOiAxMCwgbWF4OiAxMDAgfSlcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpeHR1cmUoeyB3aWR0aDogZXhwZWN0ZWQgfSkpXG5cbiAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgZXhwZWN0KHRleHRhcmVhKS50b0hhdmVTdHlsZSh7IHdpZHRoOiBgJHtleHBlY3RlZH1weGAgfSlcbiAgfSlcblxuICBpdCgnU2hvdWxkIHBhc3MgdGhyb3VnaCBgaGVpZ2h0YCBwcm9wIHRvIHRleHRhcmVhJywgKCkgPT4ge1xuICAgIGNvbnN0IGV4cGVjdGVkID0gZmFrZXIuZGF0YXR5cGUubnVtYmVyKHsgbWluOiAxMCwgbWF4OiAxMDAgfSlcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpeHR1cmUoeyBoZWlnaHQ6IGV4cGVjdGVkIH0pKVxuXG4gICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9IYXZlU3R5bGUoeyBoZWlnaHQ6IGAke2V4cGVjdGVkfXB4YCB9KVxuICB9KVxuXG4gIGl0KCdTaG91bGQgY2FsbCBvbkNoYW5nZSB3aGVuIGV2ZW50IGlzIGZpcmVkJywgKCkgPT4ge1xuICAgIGNvbnN0IG9uQ2hhbmdlID0gamVzdC5mbigpXG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaXh0dXJlKHsgb25DaGFuZ2UgfSkpXG5cbiAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgZmlyZUV2ZW50LmNoYW5nZSh0ZXh0YXJlYSwgeyB0YXJnZXQ6IHsgdmFsdWU6ICd0ZXN0JyB9IH0pXG4gICAgZXhwZWN0KG9uQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgfSlcbn0pXG4iXX0=
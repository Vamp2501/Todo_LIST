"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _faker = _interopRequireDefault(require("faker"));

var _ = require("..");

var makeTextareaFixture = function makeTextareaFixture() {
  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return /*#__PURE__*/_react["default"].createElement(_.Textarea, (0, _extends2["default"])({
    "data-testid": "Textarea"
  }, props));
};

makeTextareaFixture.displayName = "makeTextareaFixture";
describe('Textarea', function () {
  it('Should render', function () {
    expect(function () {
      return (0, _react2.render)(makeTextareaFixture());
    }).not.toThrow();
  });
  it('Should be disabled when disabled is true', function () {
    var _render = (0, _react2.render)(makeTextareaFixture({
      disabled: true
    })),
        container = _render.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toBeDisabled();
  });
  it.each([undefined, null, false])('Should not be disabled when disabled is %p', function (disabled) {
    var _render2 = (0, _react2.render)(makeTextareaFixture({
      disabled: disabled
    })),
        container = _render2.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).not.toBeDisabled();
  });
  it('Should be required when required is true', function () {
    var _render3 = (0, _react2.render)(makeTextareaFixture({
      required: true
    })),
        container = _render3.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toBeRequired();
  });
  it.each([undefined, null, false])('Should not be required when required is %p', function (required) {
    var _render4 = (0, _react2.render)(makeTextareaFixture({
      required: required
    })),
        container = _render4.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).not.toBeRequired();
  });
  it('Should render with placeholder when placeholder provided', function () {
    var expected = _faker["default"].random.alphaNumeric();

    var _render5 = (0, _react2.render)(makeTextareaFixture({
      placeholder: expected
    })),
        container = _render5.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveAttribute('placeholder', expected);
  });
  it('Should pass through `spellCheck` prop to textarea', function () {
    var expected = _faker["default"].datatype["boolean"]();

    var _render6 = (0, _react2.render)(makeTextareaFixture({
      spellCheck: expected
    })),
        container = _render6.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveAttribute('spellCheck', expected.toString());
  });
  it('Should render with `aria-invalid` when isInvalid provided', function () {
    var expected = _faker["default"].datatype["boolean"]();

    var _render7 = (0, _react2.render)(makeTextareaFixture({
      isInvalid: expected
    })),
        container = _render7.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveAttribute('aria-invalid', expected.toString());
  });
  it('Should render with `data-gramm_editor` when grammarly provided', function () {
    var expected = _faker["default"].datatype["boolean"]();

    var _render8 = (0, _react2.render)(makeTextareaFixture({
      grammarly: expected
    })),
        container = _render8.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveAttribute('data-gramm_editor', expected.toString());
  });
  it('Should pass through `width` prop to textarea', function () {
    var expected = _faker["default"].datatype.number({
      min: 10,
      max: 100
    });

    var _render9 = (0, _react2.render)(makeTextareaFixture({
      width: expected
    })),
        container = _render9.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveStyle({
      width: "".concat(expected, "px")
    });
  });
  it('Should pass through `height` prop to textarea', function () {
    var expected = _faker["default"].datatype.number({
      min: 10,
      max: 100
    });

    var _render10 = (0, _react2.render)(makeTextareaFixture({
      height: expected
    })),
        container = _render10.container;

    var textarea = container.querySelector('textarea');
    expect(textarea).toHaveStyle({
      height: "".concat(expected, "px")
    });
  });
  it('Should call onChange when event is fired', function () {
    var onChange = jest.fn();

    var _render11 = (0, _react2.render)(makeTextareaFixture({
      onChange: onChange
    })),
        container = _render11.container;

    var textarea = container.querySelector('textarea');

    _react2.fireEvent.change(textarea, {
      target: {
        value: 'test'
      }
    });

    expect(onChange).toHaveBeenCalled();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXh0YXJlYS9fX3Rlc3RzX18vVGV4dGFyZWEudGVzdC5qcyJdLCJuYW1lcyI6WyJtYWtlVGV4dGFyZWFGaXh0dXJlIiwicHJvcHMiLCJkZXNjcmliZSIsIml0IiwiZXhwZWN0Iiwibm90IiwidG9UaHJvdyIsImRpc2FibGVkIiwiY29udGFpbmVyIiwidGV4dGFyZWEiLCJxdWVyeVNlbGVjdG9yIiwidG9CZURpc2FibGVkIiwiZWFjaCIsInVuZGVmaW5lZCIsInJlcXVpcmVkIiwidG9CZVJlcXVpcmVkIiwiZXhwZWN0ZWQiLCJmYWtlciIsInJhbmRvbSIsImFscGhhTnVtZXJpYyIsInBsYWNlaG9sZGVyIiwidG9IYXZlQXR0cmlidXRlIiwiZGF0YXR5cGUiLCJzcGVsbENoZWNrIiwidG9TdHJpbmciLCJpc0ludmFsaWQiLCJncmFtbWFybHkiLCJudW1iZXIiLCJtaW4iLCJtYXgiLCJ3aWR0aCIsInRvSGF2ZVN0eWxlIiwiaGVpZ2h0Iiwib25DaGFuZ2UiLCJqZXN0IiwiZm4iLCJmaXJlRXZlbnQiLCJjaGFuZ2UiLCJ0YXJnZXQiLCJ2YWx1ZSIsInRvSGF2ZUJlZW5DYWxsZWQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLElBQU1BLG1CQUFtQixHQUFHLFNBQXRCQSxtQkFBc0I7QUFBQSxNQUFDQyxLQUFELHVFQUFTLEVBQVQ7QUFBQSxzQkFBZ0IsZ0NBQUMsVUFBRDtBQUFVLG1CQUFZO0FBQXRCLEtBQXFDQSxLQUFyQyxFQUFoQjtBQUFBLENBQTVCOztBQUFNRCxtQjtBQUVORSxRQUFRLENBQUMsVUFBRCxFQUFhLFlBQU07QUFDekJDLEVBQUFBLEVBQUUsQ0FBQyxlQUFELEVBQWtCLFlBQU07QUFDeEJDLElBQUFBLE1BQU0sQ0FBQztBQUFBLGFBQU0sb0JBQU9KLG1CQUFtQixFQUExQixDQUFOO0FBQUEsS0FBRCxDQUFOLENBQTRDSyxHQUE1QyxDQUFnREMsT0FBaEQ7QUFDRCxHQUZDLENB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LFFBQVF6QixTQUFSLGFBQVFBLFNBQVI7O0FBRUEsUUFBTUMsUUFBUSxHQUFHRCxTQUFTLENBQUNFLGFBQVYsQ0FBd0IsVUFBeEIsQ0FBakI7O0FBQ0EwQixzQkFBVUMsTUFBVixDQUFpQjVCLFFBQWpCLEVBQTJCO0FBQUU2QixNQUFBQSxNQUFNLEVBQUU7QUFBRUMsUUFBQUEsS0FBSyxFQUFFO0FBQVQ7QUFBVixLQUEzQjs7QUFDQW5DLElBQUFBLE1BQU0sQ0FBQzZCLFFBQUQsQ0FBTixDQUFpQk8sZ0JBQWpCO0FBQ0QsR0FQQyxDQUFGO0FBUUQsQ0F6Rk8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHJlbmRlciwgZmlyZUV2ZW50IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCdcbmltcG9ydCBmYWtlciBmcm9tICdmYWtlcidcbmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSAnLi4nXG5cbmNvbnN0IG1ha2VUZXh0YXJlYUZpeHR1cmUgPSAocHJvcHMgPSB7fSkgPT4gPFRleHRhcmVhIGRhdGEtdGVzdGlkPVwiVGV4dGFyZWFcIiB7Li4ucHJvcHN9IC8+XG5cbmRlc2NyaWJlKCdUZXh0YXJlYScsICgpID0+IHtcbiAgaXQoJ1Nob3VsZCByZW5kZXInLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IHJlbmRlcihtYWtlVGV4dGFyZWFGaXh0dXJlKCkpKS5ub3QudG9UaHJvdygpXG4gIH0pXG5cbiAgaXQoJ1Nob3VsZCBiZSBkaXNhYmxlZCB3aGVuIGRpc2FibGVkIGlzIHRydWUnLCAoKSA9PiB7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaXh0dXJlKHsgZGlzYWJsZWQ6IHRydWUgfSkpXG5cbiAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgZXhwZWN0KHRleHRhcmVhKS50b0JlRGlzYWJsZWQoKVxuICB9KVxuXG4gIGl0LmVhY2goW3VuZGVmaW5lZCwgbnVsbCwgZmFsc2VdKSgnU2hvdWxkIG5vdCBiZSBkaXNhYmxlZCB3aGVuIGRpc2FibGVkIGlzICVwJywgZGlzYWJsZWQgPT4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRml4dHVyZSh7IGRpc2FibGVkIH0pKVxuXG4gICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgIGV4cGVjdCh0ZXh0YXJlYSkubm90LnRvQmVEaXNhYmxlZCgpXG4gIH0pXG5cbiAgaXQoJ1Nob3VsZCBiZSByZXF1aXJlZCB3aGVuIHJlcXVpcmVkIGlzIHRydWUnLCAoKSA9PiB7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaXh0dXJlKHsgcmVxdWlyZWQ6IHRydWUgfSkpXG5cbiAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgZXhwZWN0KHRleHRhcmVhKS50b0JlUmVxdWlyZWQoKVxuICB9KVxuXG4gIGl0LmVhY2goW3VuZGVmaW5lZCwgbnVsbCwgZmFsc2VdKSgnU2hvdWxkIG5vdCBiZSByZXF1aXJlZCB3aGVuIHJlcXVpcmVkIGlzICVwJywgcmVxdWlyZWQgPT4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRml4dHVyZSh7IHJlcXVpcmVkIH0pKVxuXG4gICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgIGV4cGVjdCh0ZXh0YXJlYSkubm90LnRvQmVSZXF1aXJlZCgpXG4gIH0pXG5cbiAgaXQoJ1Nob3VsZCByZW5kZXIgd2l0aCBwbGFjZWhvbGRlciB3aGVuIHBsYWNlaG9sZGVyIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgIGNvbnN0IGV4cGVjdGVkID0gZmFrZXIucmFuZG9tLmFscGhhTnVtZXJpYygpXG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaXh0dXJlKHsgcGxhY2Vob2xkZXI6IGV4cGVjdGVkIH0pKVxuXG4gICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9IYXZlQXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIGV4cGVjdGVkKVxuICB9KVxuXG4gIGl0KCdTaG91bGQgcGFzcyB0aHJvdWdoIGBzcGVsbENoZWNrYCBwcm9wIHRvIHRleHRhcmVhJywgKCkgPT4ge1xuICAgIGNvbnN0IGV4cGVjdGVkID0gZmFrZXIuZGF0YXR5cGUuYm9vbGVhbigpXG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaXh0dXJlKHsgc3BlbGxDaGVjazogZXhwZWN0ZWQgfSkpXG5cbiAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgZXhwZWN0KHRleHRhcmVhKS50b0hhdmVBdHRyaWJ1dGUoJ3NwZWxsQ2hlY2snLCBleHBlY3RlZC50b1N0cmluZygpKVxuICB9KVxuXG4gIGl0KCdTaG91bGQgcmVuZGVyIHdpdGggYGFyaWEtaW52YWxpZGAgd2hlbiBpc0ludmFsaWQgcHJvdmlkZWQnLCAoKSA9PiB7XG4gICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5kYXRhdHlwZS5ib29sZWFuKClcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpeHR1cmUoeyBpc0ludmFsaWQ6IGV4cGVjdGVkIH0pKVxuXG4gICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCBleHBlY3RlZC50b1N0cmluZygpKVxuICB9KVxuXG4gIGl0KCdTaG91bGQgcmVuZGVyIHdpdGggYGRhdGEtZ3JhbW1fZWRpdG9yYCB3aGVuIGdyYW1tYXJseSBwcm92aWRlZCcsICgpID0+IHtcbiAgICBjb25zdCBleHBlY3RlZCA9IGZha2VyLmRhdGF0eXBlLmJvb2xlYW4oKVxuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRml4dHVyZSh7IGdyYW1tYXJseTogZXhwZWN0ZWQgfSkpXG5cbiAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgZXhwZWN0KHRleHRhcmVhKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtZ3JhbW1fZWRpdG9yJywgZXhwZWN0ZWQudG9TdHJpbmcoKSlcbiAgfSlcblxuICBpdCgnU2hvdWxkIHBhc3MgdGhyb3VnaCBgd2lkdGhgIHByb3AgdG8gdGV4dGFyZWEnLCAoKSA9PiB7XG4gICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5kYXRhdHlwZS5udW1iZXIoeyBtaW46IDEwLCBtYXg6IDEwMCB9KVxuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRml4dHVyZSh7IHdpZHRoOiBleHBlY3RlZCB9KSlcblxuICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICBleHBlY3QodGV4dGFyZWEpLnRvSGF2ZVN0eWxlKHsgd2lkdGg6IGAke2V4cGVjdGVkfXB4YCB9KVxuICB9KVxuXG4gIGl0KCdTaG91bGQgcGFzcyB0aHJvdWdoIGBoZWlnaHRgIHByb3AgdG8gdGV4dGFyZWEnLCAoKSA9PiB7XG4gICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5kYXRhdHlwZS5udW1iZXIoeyBtaW46IDEwLCBtYXg6IDEwMCB9KVxuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRml4dHVyZSh7IGhlaWdodDogZXhwZWN0ZWQgfSkpXG5cbiAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgZXhwZWN0KHRleHRhcmVhKS50b0hhdmVTdHlsZSh7IGhlaWdodDogYCR7ZXhwZWN0ZWR9cHhgIH0pXG4gIH0pXG5cbiAgaXQoJ1Nob3VsZCBjYWxsIG9uQ2hhbmdlIHdoZW4gZXZlbnQgaXMgZmlyZWQnLCAoKSA9PiB7XG4gICAgY29uc3Qgb25DaGFuZ2UgPSBqZXN0LmZuKClcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpeHR1cmUoeyBvbkNoYW5nZSB9KSlcblxuICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICBmaXJlRXZlbnQuY2hhbmdlKHRleHRhcmVhLCB7IHRhcmdldDogeyB2YWx1ZTogJ3Rlc3QnIH0gfSlcbiAgICBleHBlY3Qob25DaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICB9KVxufSlcbiJdfQ==
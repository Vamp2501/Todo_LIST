"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _faker = _interopRequireDefault(require("faker"));

var _ = require("..");

var makeTextareaFieldFixture = function makeTextareaFieldFixture() {
  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return /*#__PURE__*/_react["default"].createElement(_.TextareaField, (0, _extends2["default"])({
    "data-testid": "TextareaField",
    label: "TextareaField"
  }, props));
};

makeTextareaFieldFixture.displayName = "makeTextareaFieldFixture";
describe('TextareaField', function () {
  it('Should render', function () {
    expect(function () {
      return (0, _react2.render)(makeTextareaFieldFixture());
    }).not.toThrow();
  });
  describe('FormField props', function () {
    test('Should render label when provided', function () {
      var expected = _faker["default"].random.alphaNumeric();

      (0, _react2.render)(makeTextareaFieldFixture({
        label: expected
      }));
      expect(_react2.screen.getByLabelText(expected)).toBeInTheDocument();
    });
    test('Should render asterisk when required is true', function () {
      var label = _faker["default"].random.alphaNumeric();

      var expected = "".concat(label, " *");
      (0, _react2.render)(makeTextareaFieldFixture({
        label: label,
        required: true
      }));
      expect(_react2.screen.getByLabelText(expected)).toBeInTheDocument();
    });
    test('Should render hint when provided', function () {
      var expected = _faker["default"].random.alphaNumeric();

      (0, _react2.render)(makeTextareaFieldFixture({
        hint: expected
      }));
      expect(_react2.screen.getByText(expected)).toBeInTheDocument();
    });
    test('Should render description when provided', function () {
      var expected = _faker["default"].random.alphaNumeric();

      (0, _react2.render)(makeTextareaFieldFixture({
        description: expected
      }));
      expect(_react2.screen.getByText(expected)).toBeInTheDocument();
    });
    test('Should render validationMessage when provided', function () {
      var expected = _faker["default"].random.alphaNumeric();

      (0, _react2.render)(makeTextareaFieldFixture({
        validationMessage: expected
      }));
      expect(_react2.screen.getByText(expected)).toBeInTheDocument();
    });
    test('Should render label with `for` attribute for accessibility', function () {
      var _render = (0, _react2.render)(makeTextareaFieldFixture({
        label: _faker["default"].random.alphaNumeric()
      })),
          container = _render.container;

      var textarea = container.querySelector('textarea');
      var label = container.querySelector('label');
      expect(label).toHaveAttribute('for', textarea.id);
    });
  });
  describe('Textarea props', function () {
    it('Should be disabled when disabled is true', function () {
      var _render2 = (0, _react2.render)(makeTextareaFieldFixture({
        disabled: true
      })),
          container = _render2.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toBeDisabled();
    });
    it.each([undefined, null, false])('Should not be disabled when disabled is %p', function (disabled) {
      var _render3 = (0, _react2.render)(makeTextareaFieldFixture({
        disabled: disabled
      })),
          container = _render3.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).not.toBeDisabled();
    });
    it('Should be required when required is true', function () {
      var _render4 = (0, _react2.render)(makeTextareaFieldFixture({
        required: true
      })),
          container = _render4.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toBeRequired();
    });
    it.each([undefined, null, false])('Should not be required when required is %p', function (required) {
      var _render5 = (0, _react2.render)(makeTextareaFieldFixture({
        required: required
      })),
          container = _render5.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).not.toBeRequired();
    });
    it('Should render with placeholder when placeholder provided', function () {
      var expected = _faker["default"].random.alphaNumeric();

      var _render6 = (0, _react2.render)(makeTextareaFieldFixture({
        placeholder: expected
      })),
          container = _render6.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveAttribute('placeholder', expected);
    });
    it('Should pass through `spellCheck` prop to textarea', function () {
      var expected = _faker["default"].datatype["boolean"]();

      var _render7 = (0, _react2.render)(makeTextareaFieldFixture({
        spellCheck: expected
      })),
          container = _render7.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveAttribute('spellCheck', expected.toString());
    });
    it('Should render with `aria-invalid` when isInvalid provided', function () {
      var expected = _faker["default"].datatype["boolean"]();

      var _render8 = (0, _react2.render)(makeTextareaFieldFixture({
        isInvalid: expected
      })),
          container = _render8.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveAttribute('aria-invalid', expected.toString());
    });
    it('Should render with `data-gramm_editor` when grammarly provided', function () {
      var expected = _faker["default"].datatype["boolean"]();

      var _render9 = (0, _react2.render)(makeTextareaFieldFixture({
        grammarly: expected
      })),
          container = _render9.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveAttribute('data-gramm_editor', expected.toString());
    });
    it('Should pass through `inputWidth` prop to textarea', function () {
      var expected = _faker["default"].datatype.number({
        min: 10,
        max: 100
      });

      var _render10 = (0, _react2.render)(makeTextareaFieldFixture({
        inputWidth: expected
      })),
          container = _render10.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveStyle({
        width: "".concat(expected, "px")
      });
    });
    it('Should pass through `inputHeight` prop to textarea', function () {
      var expected = _faker["default"].datatype.number({
        min: 10,
        max: 100
      });

      var _render11 = (0, _react2.render)(makeTextareaFieldFixture({
        inputHeight: expected
      })),
          container = _render11.container;

      var textarea = container.querySelector('textarea');
      expect(textarea).toHaveStyle({
        height: "".concat(expected, "px")
      });
    });
    it('Should call onChange when event is fired', function () {
      var onChange = jest.fn();

      var _render12 = (0, _react2.render)(makeTextareaFieldFixture({
        onChange: onChange
      })),
          container = _render12.container;

      var textarea = container.querySelector('textarea');

      _react2.fireEvent.change(textarea, {
        target: {
          value: 'test'
        }
      });

      expect(onChange).toHaveBeenCalled();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXh0YXJlYS9fX3Rlc3RzX18vVGV4dGFyZWFGaWVsZC50ZXN0LmpzIl0sIm5hbWVzIjpbIm1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSIsInByb3BzIiwiZGVzY3JpYmUiLCJpdCIsImV4cGVjdCIsIm5vdCIsInRvVGhyb3ciLCJ0ZXN0IiwiZXhwZWN0ZWQiLCJmYWtlciIsInJhbmRvbSIsImFscGhhTnVtZXJpYyIsImxhYmVsIiwic2NyZWVuIiwiZ2V0QnlMYWJlbFRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsInJlcXVpcmVkIiwiaGludCIsImdldEJ5VGV4dCIsImRlc2NyaXB0aW9uIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJjb250YWluZXIiLCJ0ZXh0YXJlYSIsInF1ZXJ5U2VsZWN0b3IiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJpZCIsImRpc2FibGVkIiwidG9CZURpc2FibGVkIiwiZWFjaCIsInVuZGVmaW5lZCIsInRvQmVSZXF1aXJlZCIsInBsYWNlaG9sZGVyIiwiZGF0YXR5cGUiLCJzcGVsbENoZWNrIiwidG9TdHJpbmciLCJpc0ludmFsaWQiLCJncmFtbWFybHkiLCJudW1iZXIiLCJtaW4iLCJtYXgiLCJpbnB1dFdpZHRoIiwidG9IYXZlU3R5bGUiLCJ3aWR0aCIsImlucHV0SGVpZ2h0IiwiaGVpZ2h0Iiwib25DaGFuZ2UiLCJqZXN0IiwiZm4iLCJmaXJlRXZlbnQiLCJjaGFuZ2UiLCJ0YXJnZXQiLCJ2YWx1ZSIsInRvSGF2ZUJlZW5DYWxsZWQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLElBQU1BLHdCQUF3QixHQUFHLFNBQTNCQSx3QkFBMkI7QUFBQSxNQUFDQyxLQUFELHVFQUFTLEVBQVQ7QUFBQSxzQkFDL0IsZ0NBQUMsZUFBRDtBQUFlLG1CQUFZLGVBQTNCO0FBQTJDLElBQUEsS0FBSyxFQUFDO0FBQWpELEtBQXFFQSxLQUFyRSxFQUQrQjtBQUFBLENBQWpDOztBQUFNRCx3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LEtBTkMsQ0FBRjtBQVFBTCxJQUFBQSxFQUFFLENBQUMsMENBQUQsRUFBNkMsWUFBTTtBQUNuRCxVQUFNMEMsUUFBUSxHQUFHQyxJQUFJLENBQUNDLEVBQUwsRUFBakI7O0FBQ0Esc0JBQXNCLG9CQUFPL0Msd0JBQXdCLENBQUM7QUFBRTZDLFFBQUFBLFFBQVEsRUFBUkE7QUFBRixPQUFELENBQS9CLENBQXRCO0FBQUEsVUFBUXhCLFNBQVIsYUFBUUEsU0FBUjs7QUFFQSxVQUFNQyxRQUFRLEdBQUdELFNBQVMsQ0FBQ0UsYUFBVixDQUF3QixVQUF4QixDQUFqQjs7QUFDQXlCLHdCQUFVQyxNQUFWLENBQWlCM0IsUUFBakIsRUFBMkI7QUFBRTRCLFFBQUFBLE1BQU0sRUFBRTtBQUFFQyxVQUFBQSxLQUFLLEVBQUU7QUFBVDtBQUFWLE9BQTNCOztBQUNBL0MsTUFBQUEsTUFBTSxDQUFDeUMsUUFBRCxDQUFOLENBQWlCTyxnQkFBakI7QUFDRCxLQVBDLENBQUY7QUFRRCxHQXJGTyxDQUFSO0FBc0ZELENBeklPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgc2NyZWVuIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCdcbmltcG9ydCBmYWtlciBmcm9tICdmYWtlcidcbmltcG9ydCB7IFRleHRhcmVhRmllbGQgfSBmcm9tICcuLidcblxuY29uc3QgbWFrZVRleHRhcmVhRmllbGRGaXh0dXJlID0gKHByb3BzID0ge30pID0+IChcbiAgPFRleHRhcmVhRmllbGQgZGF0YS10ZXN0aWQ9XCJUZXh0YXJlYUZpZWxkXCIgbGFiZWw9XCJUZXh0YXJlYUZpZWxkXCIgey4uLnByb3BzfSAvPlxuKVxuXG5kZXNjcmliZSgnVGV4dGFyZWFGaWVsZCcsICgpID0+IHtcbiAgaXQoJ1Nob3VsZCByZW5kZXInLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoKSkpLm5vdC50b1Rocm93KClcbiAgfSlcblxuICBkZXNjcmliZSgnRm9ybUZpZWxkIHByb3BzJywgKCkgPT4ge1xuICAgIHRlc3QoJ1Nob3VsZCByZW5kZXIgbGFiZWwgd2hlbiBwcm92aWRlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGV4cGVjdGVkID0gZmFrZXIucmFuZG9tLmFscGhhTnVtZXJpYygpXG4gICAgICByZW5kZXIobWFrZVRleHRhcmVhRmllbGRGaXh0dXJlKHsgbGFiZWw6IGV4cGVjdGVkIH0pKVxuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KGV4cGVjdGVkKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdTaG91bGQgcmVuZGVyIGFzdGVyaXNrIHdoZW4gcmVxdWlyZWQgaXMgdHJ1ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGxhYmVsID0gZmFrZXIucmFuZG9tLmFscGhhTnVtZXJpYygpXG4gICAgICBjb25zdCBleHBlY3RlZCA9IGAke2xhYmVsfSAqYFxuICAgICAgcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IGxhYmVsLCByZXF1aXJlZDogdHJ1ZSB9KSlcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dChleHBlY3RlZCkpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuXG4gICAgdGVzdCgnU2hvdWxkIHJlbmRlciBoaW50IHdoZW4gcHJvdmlkZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBleHBlY3RlZCA9IGZha2VyLnJhbmRvbS5hbHBoYU51bWVyaWMoKVxuICAgICAgcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IGhpbnQ6IGV4cGVjdGVkIH0pKVxuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChleHBlY3RlZCkpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuXG4gICAgdGVzdCgnU2hvdWxkIHJlbmRlciBkZXNjcmlwdGlvbiB3aGVuIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5yYW5kb20uYWxwaGFOdW1lcmljKClcbiAgICAgIHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyBkZXNjcmlwdGlvbjogZXhwZWN0ZWQgfSkpXG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KGV4cGVjdGVkKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdTaG91bGQgcmVuZGVyIHZhbGlkYXRpb25NZXNzYWdlIHdoZW4gcHJvdmlkZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBleHBlY3RlZCA9IGZha2VyLnJhbmRvbS5hbHBoYU51bWVyaWMoKVxuICAgICAgcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IHZhbGlkYXRpb25NZXNzYWdlOiBleHBlY3RlZCB9KSlcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoZXhwZWN0ZWQpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIHRlc3QoJ1Nob3VsZCByZW5kZXIgbGFiZWwgd2l0aCBgZm9yYCBhdHRyaWJ1dGUgZm9yIGFjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IGxhYmVsOiBmYWtlci5yYW5kb20uYWxwaGFOdW1lcmljKCkgfSkpXG5cbiAgICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICAgIGNvbnN0IGxhYmVsID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJylcbiAgICAgIGV4cGVjdChsYWJlbCkudG9IYXZlQXR0cmlidXRlKCdmb3InLCB0ZXh0YXJlYS5pZClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdUZXh0YXJlYSBwcm9wcycsICgpID0+IHtcbiAgICBpdCgnU2hvdWxkIGJlIGRpc2FibGVkIHdoZW4gZGlzYWJsZWQgaXMgdHJ1ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRmllbGRGaXh0dXJlKHsgZGlzYWJsZWQ6IHRydWUgfSkpXG5cbiAgICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9CZURpc2FibGVkKClcbiAgICB9KVxuXG4gICAgaXQuZWFjaChbdW5kZWZpbmVkLCBudWxsLCBmYWxzZV0pKCdTaG91bGQgbm90IGJlIGRpc2FibGVkIHdoZW4gZGlzYWJsZWQgaXMgJXAnLCBkaXNhYmxlZCA9PiB7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IGRpc2FibGVkIH0pKVxuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICBleHBlY3QodGV4dGFyZWEpLm5vdC50b0JlRGlzYWJsZWQoKVxuICAgIH0pXG5cbiAgICBpdCgnU2hvdWxkIGJlIHJlcXVpcmVkIHdoZW4gcmVxdWlyZWQgaXMgdHJ1ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRmllbGRGaXh0dXJlKHsgcmVxdWlyZWQ6IHRydWUgfSkpXG5cbiAgICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9CZVJlcXVpcmVkKClcbiAgICB9KVxuXG4gICAgaXQuZWFjaChbdW5kZWZpbmVkLCBudWxsLCBmYWxzZV0pKCdTaG91bGQgbm90IGJlIHJlcXVpcmVkIHdoZW4gcmVxdWlyZWQgaXMgJXAnLCByZXF1aXJlZCA9PiB7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IHJlcXVpcmVkIH0pKVxuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICBleHBlY3QodGV4dGFyZWEpLm5vdC50b0JlUmVxdWlyZWQoKVxuICAgIH0pXG5cbiAgICBpdCgnU2hvdWxkIHJlbmRlciB3aXRoIHBsYWNlaG9sZGVyIHdoZW4gcGxhY2Vob2xkZXIgcHJvdmlkZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBleHBlY3RlZCA9IGZha2VyLnJhbmRvbS5hbHBoYU51bWVyaWMoKVxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyBwbGFjZWhvbGRlcjogZXhwZWN0ZWQgfSkpXG5cbiAgICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICAgIGV4cGVjdCh0ZXh0YXJlYSkudG9IYXZlQXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIGV4cGVjdGVkKVxuICAgIH0pXG5cbiAgICBpdCgnU2hvdWxkIHBhc3MgdGhyb3VnaCBgc3BlbGxDaGVja2AgcHJvcCB0byB0ZXh0YXJlYScsICgpID0+IHtcbiAgICAgIGNvbnN0IGV4cGVjdGVkID0gZmFrZXIuZGF0YXR5cGUuYm9vbGVhbigpXG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IHNwZWxsQ2hlY2s6IGV4cGVjdGVkIH0pKVxuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICBleHBlY3QodGV4dGFyZWEpLnRvSGF2ZUF0dHJpYnV0ZSgnc3BlbGxDaGVjaycsIGV4cGVjdGVkLnRvU3RyaW5nKCkpXG4gICAgfSlcblxuICAgIGl0KCdTaG91bGQgcmVuZGVyIHdpdGggYGFyaWEtaW52YWxpZGAgd2hlbiBpc0ludmFsaWQgcHJvdmlkZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBleHBlY3RlZCA9IGZha2VyLmRhdGF0eXBlLmJvb2xlYW4oKVxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihtYWtlVGV4dGFyZWFGaWVsZEZpeHR1cmUoeyBpc0ludmFsaWQ6IGV4cGVjdGVkIH0pKVxuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICBleHBlY3QodGV4dGFyZWEpLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgZXhwZWN0ZWQudG9TdHJpbmcoKSlcbiAgICB9KVxuXG4gICAgaXQoJ1Nob3VsZCByZW5kZXIgd2l0aCBgZGF0YS1ncmFtbV9lZGl0b3JgIHdoZW4gZ3JhbW1hcmx5IHByb3ZpZGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwZWN0ZWQgPSBmYWtlci5kYXRhdHlwZS5ib29sZWFuKClcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRmllbGRGaXh0dXJlKHsgZ3JhbW1hcmx5OiBleHBlY3RlZCB9KSlcblxuICAgICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgICAgZXhwZWN0KHRleHRhcmVhKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtZ3JhbW1fZWRpdG9yJywgZXhwZWN0ZWQudG9TdHJpbmcoKSlcbiAgICB9KVxuXG4gICAgaXQoJ1Nob3VsZCBwYXNzIHRocm91Z2ggYGlucHV0V2lkdGhgIHByb3AgdG8gdGV4dGFyZWEnLCAoKSA9PiB7XG4gICAgICBjb25zdCBleHBlY3RlZCA9IGZha2VyLmRhdGF0eXBlLm51bWJlcih7IG1pbjogMTAsIG1heDogMTAwIH0pXG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IGlucHV0V2lkdGg6IGV4cGVjdGVkIH0pKVxuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICBleHBlY3QodGV4dGFyZWEpLnRvSGF2ZVN0eWxlKHsgd2lkdGg6IGAke2V4cGVjdGVkfXB4YCB9KVxuICAgIH0pXG5cbiAgICBpdCgnU2hvdWxkIHBhc3MgdGhyb3VnaCBgaW5wdXRIZWlnaHRgIHByb3AgdG8gdGV4dGFyZWEnLCAoKSA9PiB7XG4gICAgICBjb25zdCBleHBlY3RlZCA9IGZha2VyLmRhdGF0eXBlLm51bWJlcih7IG1pbjogMTAsIG1heDogMTAwIH0pXG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKG1ha2VUZXh0YXJlYUZpZWxkRml4dHVyZSh7IGlucHV0SGVpZ2h0OiBleHBlY3RlZCB9KSlcblxuICAgICAgY29uc3QgdGV4dGFyZWEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKVxuICAgICAgZXhwZWN0KHRleHRhcmVhKS50b0hhdmVTdHlsZSh7IGhlaWdodDogYCR7ZXhwZWN0ZWR9cHhgIH0pXG4gICAgfSlcblxuICAgIGl0KCdTaG91bGQgY2FsbCBvbkNoYW5nZSB3aGVuIGV2ZW50IGlzIGZpcmVkJywgKCkgPT4ge1xuICAgICAgY29uc3Qgb25DaGFuZ2UgPSBqZXN0LmZuKClcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIobWFrZVRleHRhcmVhRmllbGRGaXh0dXJlKHsgb25DaGFuZ2UgfSkpXG5cbiAgICAgIGNvbnN0IHRleHRhcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UodGV4dGFyZWEsIHsgdGFyZ2V0OiB7IHZhbHVlOiAndGVzdCcgfSB9KVxuICAgICAgZXhwZWN0KG9uQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICB9KVxuICB9KVxufSlcbiJdfQ==
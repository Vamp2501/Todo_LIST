"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _typeof = require("@babel/runtime/helpers/typeof");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _react = _interopRequireWildcard(require("react"));

var _classnames = _interopRequireDefault(require("classnames"));

var _glamor = require("glamor");

var _propTypes = _interopRequireDefault(require("prop-types"));

var _reactTransitionGroup = require("react-transition-group");

var _buttons = require("../../buttons");

var _AbsolutePosition = _interopRequireDefault(require("../../constants/src/AbsolutePosition"));

var _Position = _interopRequireDefault(require("../../constants/src/Position"));

var _icons = require("../../icons");

var _layers = require("../../layers");

var _portal = require("../../portal");

var _typography = require("../../typography");

var _excluded = ["className"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var animationEasing = {
  deceleration: 'cubic-bezier(0.0, 0.0, 0.2, 1)',
  acceleration: 'cubic-bezier(0.4, 0.0, 1, 1)',
  spring: 'cubic-bezier(0.175, 0.885, 0.320, 1.175)'
};
var ANIMATION_DURATION = 240;

var openAnimation = _glamor.css.keyframes('openAnimation', {
  from: {
    transform: 'translateY(100%)'
  },
  to: {
    transform: 'translateY(0)'
  }
});

var closeAnimation = _glamor.css.keyframes('closeAnimation', {
  from: {
    transform: 'scale(1)',
    opacity: 1
  },
  to: {
    transform: 'scale(0.9)',
    opacity: 0
  }
});

var animationStyles = {
  '&[data-state="entering"], &[data-state="entered"]': {
    animation: "".concat(openAnimation, " ").concat(ANIMATION_DURATION, "ms ").concat(animationEasing.spring, " both")
  },
  '&[data-state="exiting"]': {
    animation: "".concat(closeAnimation, " 120ms ").concat(animationEasing.acceleration, " both")
  }
};

var closeHandler = function closeHandler(close) {
  return close();
};

var noop = function noop() {};

var emptyProps = {};
var CornerDialog = /*#__PURE__*/(0, _react.memo)(function CornerDialog(props) {
  var title = props.title,
      _props$width = props.width,
      width = _props$width === void 0 ? 448 : _props$width,
      children = props.children,
      _props$intent = props.intent,
      intent = _props$intent === void 0 ? 'none' : _props$intent,
      isShown = props.isShown,
      _props$hasFooter = props.hasFooter,
      hasFooter = _props$hasFooter === void 0 ? true : _props$hasFooter,
      _props$hasCancel = props.hasCancel,
      hasCancel = _props$hasCancel === void 0 ? true : _props$hasCancel,
      _props$hasClose = props.hasClose,
      hasClose = _props$hasClose === void 0 ? true : _props$hasClose,
      _props$cancelLabel = props.cancelLabel,
      cancelLabel = _props$cancelLabel === void 0 ? 'Close' : _props$cancelLabel,
      _props$confirmLabel = props.confirmLabel,
      confirmLabel = _props$confirmLabel === void 0 ? 'Learn More' : _props$confirmLabel,
      onOpenComplete = props.onOpenComplete,
      _props$onCloseComplet = props.onCloseComplete,
      onCloseComplete = _props$onCloseComplet === void 0 ? noop : _props$onCloseComplet,
      _props$onCancel = props.onCancel,
      onCancel = _props$onCancel === void 0 ? closeHandler : _props$onCancel,
      _props$onConfirm = props.onConfirm,
      onConfirm = _props$onConfirm === void 0 ? closeHandler : _props$onConfirm,
      _props$containerProps = props.containerProps,
      containerProps = _props$containerProps === void 0 ? emptyProps : _props$containerProps,
      _props$position = props.position,
      position = _props$position === void 0 ? _Position["default"].BOTTOM_RIGHT : _props$position;

  var _useState = (0, _react.useState)(false),
      _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
      exiting = _useState2[0],
      setExiting = _useState2[1];

  var _useState3 = (0, _react.useState)(!props.isShown),
      _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
      exited = _useState4[0],
      setExited = _useState4[1];

  var transitionRef = (0, _react.useRef)(null);
  (0, _react.useEffect)(function () {
    if (isShown) {
      setExited(false);
    }
  }, [isShown]);
  var handleExited = (0, _react.useCallback)(function () {
    setExiting(false);
    setExited(true);
    onCloseComplete();
  }, [onCloseComplete]);
  var handleClose = (0, _react.useCallback)(function () {
    return setExiting(true);
  }, []);
  var handleCancel = (0, _react.useCallback)(function () {
    onCancel(handleClose);
  }, [onCancel, handleClose]);
  var handleConfirm = (0, _react.useCallback)(function () {
    onConfirm(handleClose);
  }, [onConfirm, handleClose]);
  var renderChildren = (0, _react.useCallback)(function () {
    if (typeof children === 'function') {
      return children({
        close: handleClose
      });
    }

    if (typeof children === 'string') {
      return /*#__PURE__*/_react["default"].createElement(_typography.Paragraph, {
        size: 400,
        color: "muted"
      }, children);
    }

    return children;
  }, [children, handleClose]);

  if (exited) {
    return null;
  }

  var containerClassName = containerProps.className,
      remainingContainerProps = (0, _objectWithoutProperties2["default"])(containerProps, _excluded);
  return /*#__PURE__*/_react["default"].createElement(_portal.Portal, null, /*#__PURE__*/_react["default"].createElement(_reactTransitionGroup.Transition, {
    nodeRef: transitionRef,
    appear: true,
    unmountOnExit: true,
    timeout: ANIMATION_DURATION,
    "in": isShown && !exiting,
    onExited: handleExited,
    onEntered: onOpenComplete
  }, function (state) {
    return /*#__PURE__*/_react["default"].createElement(_layers.Card, (0, _extends2["default"])({
      ref: transitionRef,
      role: "dialog",
      backgroundColor: "white",
      elevation: 4,
      width: width,
      className: (0, _classnames["default"])((0, _glamor.css)(animationStyles).toString(), containerClassName),
      "data-state": state,
      padding: 32,
      position: "fixed"
    }, _AbsolutePosition["default"][Object.keys(_AbsolutePosition["default"]).includes(position) ? position : _Position["default"].BOTTOM_RIGHT], remainingContainerProps), /*#__PURE__*/_react["default"].createElement(_layers.Pane, {
      display: "flex",
      alignItems: "center",
      marginBottom: 12
    }, /*#__PURE__*/_react["default"].createElement(_typography.Heading, {
      is: "h4",
      size: 600,
      flex: "1"
    }, title), hasClose && /*#__PURE__*/_react["default"].createElement(_buttons.IconButton, {
      icon: _icons.CrossIcon,
      appearance: "minimal",
      onClick: handleClose
    })), /*#__PURE__*/_react["default"].createElement(_layers.Pane, {
      overflowY: "auto",
      "data-state": state
    }, renderChildren()), hasFooter && /*#__PURE__*/_react["default"].createElement(_layers.Pane, {
      marginTop: 24,
      flexShrink: 0,
      display: "flex",
      flexDirection: "row-reverse"
    }, /*#__PURE__*/_react["default"].createElement(_buttons.Button, {
      appearance: "primary",
      intent: intent,
      marginLeft: 8,
      onClick: handleConfirm
    }, confirmLabel), hasCancel && /*#__PURE__*/_react["default"].createElement(_buttons.Button, {
      onClick: handleCancel
    }, cancelLabel)));
  }));
});
CornerDialog.propTypes = {
  /**
   * Children can be a string, node or a function accepting `({ close })`.
   * When passing a string, <Paragraph size={400} color="muted" /> is used to wrap the string.
   */
  children: _propTypes["default"].oneOfType([_propTypes["default"].node, _propTypes["default"].func]).isRequired,

  /**
   * The intent of the CornerDialog. Used for the button.
   */
  intent: _propTypes["default"].string,

  /**
   * When true, the dialog is shown.
   */
  isShown: _propTypes["default"].bool,

  /**
   * Title of the Dialog. Titles should use Title Case.
   */
  title: _propTypes["default"].node,

  /**
   * Function that will be called when the exit transition is complete.
   */
  onCloseComplete: _propTypes["default"].func,

  /**
   * Function that will be called when the enter transition is complete.
   */
  onOpenComplete: _propTypes["default"].func,

  /**
   * When true, the footer with the cancel and confirm button is shown.
   */
  hasFooter: _propTypes["default"].bool,

  /**
   * Function that will be called when the confirm button is clicked.
   * This does not close the Dialog. A close function will be passed
   * as a paramater you can use to close the dialog.
   *
   * `onConfirm={(close) => close()}`
   */
  onConfirm: _propTypes["default"].func,

  /**
   * Label of the confirm button.
   */
  confirmLabel: _propTypes["default"].string,

  /**
   * When true, the cancel button is shown.
   */
  hasCancel: _propTypes["default"].bool,

  /**
   * When true, the close button is shown.
   */
  hasClose: _propTypes["default"].bool,

  /**
   * Function that will be called when the cancel button is clicked.
   * This closes the Dialog by default.
   *
   * `onCancel={(close) => close()}`
   */
  onCancel: _propTypes["default"].func,

  /**
   * Label of the cancel button.
   */
  cancelLabel: _propTypes["default"].string,

  /**
   * Width of the Dialog.
   */
  width: _propTypes["default"].oneOfType([_propTypes["default"].string, _propTypes["default"].number]),

  /**
   * Props that are passed to the dialog container.
   */
  containerProps: _propTypes["default"].object,

  /**
   * Props that will set position of corner dialog
   */
  position: _propTypes["default"].oneOf([_Position["default"].TOP_LEFT, _Position["default"].TOP_RIGHT, _Position["default"].BOTTOM_LEFT, _Position["default"].BOTTOM_RIGHT])
};
var _default = CornerDialog;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb3JuZXItZGlhbG9nL3NyYy9Db3JuZXJEaWFsb2cuanMiXSwibmFtZXMiOlsiYW5pbWF0aW9uRWFzaW5nIiwiZGVjZWxlcmF0aW9uIiwiYWNjZWxlcmF0aW9uIiwic3ByaW5nIiwiQU5JTUFUSU9OX0RVUkFUSU9OIiwib3BlbkFuaW1hdGlvbiIsImNzcyIsImtleWZyYW1lcyIsImZyb20iLCJ0cmFuc2Zvcm0iLCJ0byIsImNsb3NlQW5pbWF0aW9uIiwib3BhY2l0eSIsImFuaW1hdGlvblN0eWxlcyIsImFuaW1hdGlvbiIsImNsb3NlSGFuZGxlciIsImNsb3NlIiwibm9vcCIsImVtcHR5UHJvcHMiLCJDb3JuZXJEaWFsb2ciLCJwcm9wcyIsInRpdGxlIiwid2lkdGgiLCJjaGlsZHJlbiIsImludGVudCIsImlzU2hvd24iLCJoYXNGb290ZXIiLCJoYXNDYW5jZWwiLCJoYXNDbG9zZSIsImNhbmNlbExhYmVsIiwiY29uZmlybUxhYmVsIiwib25PcGVuQ29tcGxldGUiLCJvbkNsb3NlQ29tcGxldGUiLCJvbkNhbmNlbCIsIm9uQ29uZmlybSIsImNvbnRhaW5lclByb3BzIiwicG9zaXRpb24iLCJwb3NpdGlvbnMiLCJCT1RUT01fUklHSFQiLCJleGl0aW5nIiwic2V0RXhpdGluZyIsImV4aXRlZCIsInNldEV4aXRlZCIsInRyYW5zaXRpb25SZWYiLCJoYW5kbGVFeGl0ZWQiLCJoYW5kbGVDbG9zZSIsImhhbmRsZUNhbmNlbCIsImhhbmRsZUNvbmZpcm0iLCJyZW5kZXJDaGlsZHJlbiIsImNvbnRhaW5lckNsYXNzTmFtZSIsImNsYXNzTmFtZSIsInJlbWFpbmluZ0NvbnRhaW5lclByb3BzIiwic3RhdGUiLCJ0b1N0cmluZyIsImFic29sdXRlUG9zaXRpb25zIiwiT2JqZWN0Iiwia2V5cyIsImluY2x1ZGVzIiwiQ3Jvc3NJY29uIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwib25lT2ZUeXBlIiwibm9kZSIsImZ1bmMiLCJpc1JlcXVpcmVkIiwic3RyaW5nIiwiYm9vbCIsIm51bWJlciIsIm9iamVjdCIsIm9uZU9mIiwiVE9QX0xFRlQiLCJUT1BfUklHSFQiLCJCT1RUT01fTEVGVCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFFQSxJQUFNQSxlQUFlLEdBQUc7QUFDdEJDLEVBQUFBLFlBQVksRUFBRSxnQ0FEUTtBQUV0QkMsRUFBQUEsWUFBWSxFQUFFLDhCQUZRO0FBR3RCQyxFQUFBQSxNQUFNLEVBQUU7QUFIYyxDQUF4QjtBQU1BLElBQU1DLGtCQUFrQixHQUFHLEdBQTNCOztBQUVBLElBQU1DLGFBQWEsR0FBR0MsWUFBSUMsU0FBSixDQUFjLGVBQWQsRUFBK0I7QUFDbkRDLEVBQUFBLElBQUksRUFBRTtBQUNKQyxJQUFBQSxTQUFTLEVBQUU7QUFEUCxHQUQ2QztBQUluREMsRUFBQUEsRUFBRSxFQUFFO0FBQ0ZELElBQUFBLFNBQVMsRUFBRTtBQURUO0FBSitDLENBQS9CLENBQXRCOztBQVNBLElBQU1FLGNBQWMsR0FBR0wsWUFBSUMsU0FBSixDQUFjLGdCQUFkLEVBQWdDO0FBQ3JEQyxFQUFBQSxJQUFJLEVBQUU7QUFDSkMsSUFBQUEsU0FBUyxFQUFFLFVBRFA7QUFFSkcsSUFBQUEsT0FBTyxFQUFFO0FBRkwsR0FEK0M7QUFLckRGLEVBQUFBLEVBQUUsRUFBRTtBQUNGRCxJQUFBQSxTQUFTLEVBQUUsWUFEVDtBQUVGRyxJQUFBQSxPQUFPLEVBQUU7QUFGUDtBQUxpRCxDQUFoQyxDQUF2Qjs7QUFXQSxJQUFNQyxlQUFlLEdBQUc7QUFDdEIsdURBQXFEO0FBQ25EQyxJQUFBQSxTQUFTLFlBQUtULGFBQUwsY0FBc0JELGtCQUF0QixnQkFBOENKLGVBQWUsQ0FBQ0csTUFBOUQ7QUFEMEMsR0FEL0I7QUFJdEIsNkJBQTJCO0FBQ3pCVyxJQUFBQSxTQUFTLFlBQUtILGNBQUwsb0JBQTZCWCxl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LHNCQUFVTSxJQXRERTs7QUF3RHZCO0FBQ0Y7QUFDQTtBQUNFdEMsRUFBQUEsUUFBUSxFQUFFZ0Msc0JBQVVNLElBM0RHOztBQTZEdkI7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0VqQyxFQUFBQSxRQUFRLEVBQUUyQixzQkFBVUcsSUFuRUc7O0FBcUV2QjtBQUNGO0FBQ0E7QUFDRWxDLEVBQUFBLFdBQVcsRUFBRStCLHNCQUFVSyxNQXhFQTs7QUEwRXZCO0FBQ0Y7QUFDQTtBQUNFM0MsRUFBQUEsS0FBSyxFQUFFc0Msc0JBQVVDLFNBQVYsQ0FBb0IsQ0FBQ0Qsc0JBQVVLLE1BQVgsRUFBbUJMLHNCQUFVTyxNQUE3QixDQUFwQixDQTdFZ0I7O0FBK0V2QjtBQUNGO0FBQ0E7QUFDRWhDLEVBQUFBLGNBQWMsRUFBRXlCLHNCQUFVUSxNQWxGSDs7QUFvRnZCO0FBQ0Y7QUFDQTtBQUNFaEMsRUFBQUEsUUFBUSxFQUFFd0Isc0JBQVVTLEtBQVYsQ0FBZ0IsQ0FBQ2hDLHFCQUFVaUMsUUFBWCxFQUFxQmpDLHFCQUFVa0MsU0FBL0IsRUFBMENsQyxxQkFBVW1DLFdBQXBELEVBQWlFbkMscUJBQVVDLFlBQTNFLENBQWhCO0FBdkZhLENBQXpCO2VBMEZlbkIsWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBtZW1vLCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcydcbmltcG9ydCB7IGNzcyB9IGZyb20gJ2dsYW1vcidcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCB7IFRyYW5zaXRpb24gfSBmcm9tICdyZWFjdC10cmFuc2l0aW9uLWdyb3VwJ1xuaW1wb3J0IHsgQnV0dG9uLCBJY29uQnV0dG9uIH0gZnJvbSAnLi4vLi4vYnV0dG9ucydcbmltcG9ydCBhYnNvbHV0ZVBvc2l0aW9ucyBmcm9tICcuLi8uLi9jb25zdGFudHMvc3JjL0Fic29sdXRlUG9zaXRpb24nXG5pbXBvcnQgcG9zaXRpb25zIGZyb20gJy4uLy4uL2NvbnN0YW50cy9zcmMvUG9zaXRpb24nXG5pbXBvcnQgeyBDcm9zc0ljb24gfSBmcm9tICcuLi8uLi9pY29ucydcbmltcG9ydCB7IFBhbmUsIENhcmQgfSBmcm9tICcuLi8uLi9sYXllcnMnXG5pbXBvcnQgeyBQb3J0YWwgfSBmcm9tICcuLi8uLi9wb3J0YWwnXG5pbXBvcnQgeyBQYXJhZ3JhcGgsIEhlYWRpbmcgfSBmcm9tICcuLi8uLi90eXBvZ3JhcGh5J1xuXG5jb25zdCBhbmltYXRpb25FYXNpbmcgPSB7XG4gIGRlY2VsZXJhdGlvbjogJ2N1YmljLWJlemllcigwLjAsIDAuMCwgMC4yLCAxKScsXG4gIGFjY2VsZXJhdGlvbjogJ2N1YmljLWJlemllcigwLjQsIDAuMCwgMSwgMSknLFxuICBzcHJpbmc6ICdjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyMCwgMS4xNzUpJ1xufVxuXG5jb25zdCBBTklNQVRJT05fRFVSQVRJT04gPSAyNDBcblxuY29uc3Qgb3BlbkFuaW1hdGlvbiA9IGNzcy5rZXlmcmFtZXMoJ29wZW5BbmltYXRpb24nLCB7XG4gIGZyb206IHtcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDEwMCUpJ1xuICB9LFxuICB0bzoge1xuICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCknXG4gIH1cbn0pXG5cbmNvbnN0IGNsb3NlQW5pbWF0aW9uID0gY3NzLmtleWZyYW1lcygnY2xvc2VBbmltYXRpb24nLCB7XG4gIGZyb206IHtcbiAgICB0cmFuc2Zvcm06ICdzY2FsZSgxKScsXG4gICAgb3BhY2l0eTogMVxuICB9LFxuICB0bzoge1xuICAgIHRyYW5zZm9ybTogJ3NjYWxlKDAuOSknLFxuICAgIG9wYWNpdHk6IDBcbiAgfVxufSlcblxuY29uc3QgYW5pbWF0aW9uU3R5bGVzID0ge1xuICAnJltkYXRhLXN0YXRlPVwiZW50ZXJpbmdcIl0sICZbZGF0YS1zdGF0ZT1cImVudGVyZWRcIl0nOiB7XG4gICAgYW5pbWF0aW9uOiBgJHtvcGVuQW5pbWF0aW9ufSAke0FOSU1BVElPTl9EVVJBVElPTn1tcyAke2FuaW1hdGlvbkVhc2luZy5zcHJpbmd9IGJvdGhgXG4gIH0sXG4gICcmW2RhdGEtc3RhdGU9XCJleGl0aW5nXCJdJzoge1xuICAgIGFuaW1hdGlvbjogYCR7Y2xvc2VBbmltYXRpb259IDEyMG1zICR7YW5pbWF0aW9uRWFzaW5nLmFjY2VsZXJhdGlvbn0gYm90aGBcbiAgfVxufVxuXG5jb25zdCBjbG9zZUhhbmRsZXIgPSBjbG9zZSA9PiBjbG9zZSgpXG5jb25zdCBub29wID0gKCkgPT4ge31cbmNvbnN0IGVtcHR5UHJvcHMgPSB7fVxuXG5jb25zdCBDb3JuZXJEaWFsb2cgPSBtZW1vKGZ1bmN0aW9uIENvcm5lckRpYWxvZyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgdGl0bGUsXG4gICAgd2lkdGggPSA0NDgsXG4gICAgY2hpbGRyZW4sXG4gICAgaW50ZW50ID0gJ25vbmUnLFxuICAgIGlzU2hvd24sXG4gICAgaGFzRm9vdGVyID0gdHJ1ZSxcbiAgICBoYXNDYW5jZWwgPSB0cnVlLFxuICAgIGhhc0Nsb3NlID0gdHJ1ZSxcbiAgICBjYW5jZWxMYWJlbCA9ICdDbG9zZScsXG4gICAgY29uZmlybUxhYmVsID0gJ0xlYXJuIE1vcmUnLFxuICAgIG9uT3BlbkNvbXBsZXRlLFxuICAgIG9uQ2xvc2VDb21wbGV0ZSA9IG5vb3AsXG4gICAgb25DYW5jZWwgPSBjbG9zZUhhbmRsZXIsXG4gICAgb25Db25maXJtID0gY2xvc2VIYW5kbGVyLFxuICAgIGNvbnRhaW5lclByb3BzID0gZW1wdHlQcm9wcyxcbiAgICBwb3NpdGlvbiA9IHBvc2l0aW9ucy5CT1RUT01fUklHSFRcbiAgfSA9IHByb3BzXG5cbiAgY29uc3QgW2V4aXRpbmcsIHNldEV4aXRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtleGl0ZWQsIHNldEV4aXRlZF0gPSB1c2VTdGF0ZSghcHJvcHMuaXNTaG93bilcbiAgY29uc3QgdHJhbnNpdGlvblJlZiA9IHVzZVJlZihudWxsKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzU2hvd24pIHtcbiAgICAgIHNldEV4aXRlZChmYWxzZSlcbiAgICB9XG4gIH0sIFtpc1Nob3duXSlcblxuICBjb25zdCBoYW5kbGVFeGl0ZWQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0RXhpdGluZyhmYWxzZSlcbiAgICBzZXRFeGl0ZWQodHJ1ZSlcblxuICAgIG9uQ2xvc2VDb21wbGV0ZSgpXG4gIH0sIFtvbkNsb3NlQ29tcGxldGVdKVxuXG4gIGNvbnN0IGhhbmRsZUNsb3NlID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0RXhpdGluZyh0cnVlKSwgW10pXG5cbiAgY29uc3QgaGFuZGxlQ2FuY2VsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIG9uQ2FuY2VsKGhhbmRsZUNsb3NlKVxuICB9LCBbb25DYW5jZWwsIGhhbmRsZUNsb3NlXSlcblxuICBjb25zdCBoYW5kbGVDb25maXJtID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIG9uQ29uZmlybShoYW5kbGVDbG9zZSlcbiAgfSwgW29uQ29uZmlybSwgaGFuZGxlQ2xvc2VdKVxuXG4gIGNvbnN0IHJlbmRlckNoaWxkcmVuID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbih7IGNsb3NlOiBoYW5kbGVDbG9zZSB9KVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8UGFyYWdyYXBoIHNpemU9ezQwMH0gY29sb3I9XCJtdXRlZFwiPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9QYXJhZ3JhcGg+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkcmVuXG4gIH0sIFtjaGlsZHJlbiwgaGFuZGxlQ2xvc2VdKVxuXG4gIGlmIChleGl0ZWQpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29uc3QgeyBjbGFzc05hbWU6IGNvbnRhaW5lckNsYXNzTmFtZSwgLi4ucmVtYWluaW5nQ29udGFpbmVyUHJvcHMgfSA9IGNvbnRhaW5lclByb3BzXG5cbiAgcmV0dXJuIChcbiAgICA8UG9ydGFsPlxuICAgICAgPFRyYW5zaXRpb25cbiAgICAgICAgbm9kZVJlZj17dHJhbnNpdGlvblJlZn1cbiAgICAgICAgYXBwZWFyXG4gICAgICAgIHVubW91bnRPbkV4aXRcbiAgICAgICAgdGltZW91dD17QU5JTUFUSU9OX0RVUkFUSU9OfVxuICAgICAgICBpbj17aXNTaG93biAmJiAhZXhpdGluZ31cbiAgICAgICAgb25FeGl0ZWQ9e2hhbmRsZUV4aXRlZH1cbiAgICAgICAgb25FbnRlcmVkPXtvbk9wZW5Db21wbGV0ZX1cbiAgICAgID5cbiAgICAgICAge3N0YXRlID0+IChcbiAgICAgICAgICA8Q2FyZFxuICAgICAgICAgICAgcmVmPXt0cmFuc2l0aW9uUmVmfVxuICAgICAgICAgICAgcm9sZT1cImRpYWxvZ1wiXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJ3aGl0ZVwiXG4gICAgICAgICAgICBlbGV2YXRpb249ezR9XG4gICAgICAgICAgICB3aWR0aD17d2lkdGh9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2N4KGNzcyhhbmltYXRpb25TdHlsZXMpLnRvU3RyaW5nKCksIGNvbnRhaW5lckNsYXNzTmFtZSl9XG4gICAgICAgICAgICBkYXRhLXN0YXRlPXtzdGF0ZX1cbiAgICAgICAgICAgIHBhZGRpbmc9ezMyfVxuICAgICAgICAgICAgcG9zaXRpb249XCJmaXhlZFwiXG4gICAgICAgICAgICB7Li4uYWJzb2x1dGVQb3NpdGlvbnNbXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKGFic29sdXRlUG9zaXRpb25zKS5pbmNsdWRlcyhwb3NpdGlvbikgPyBwb3NpdGlvbiA6IHBvc2l0aW9ucy5CT1RUT01fUklHSFRcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgICB7Li4ucmVtYWluaW5nQ29udGFpbmVyUHJvcHN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFBhbmUgZGlzcGxheT1cImZsZXhcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgbWFyZ2luQm90dG9tPXsxMn0+XG4gICAgICAgICAgICAgIDxIZWFkaW5nIGlzPVwiaDRcIiBzaXplPXs2MDB9IGZsZXg9XCIxXCI+XG4gICAgICAgICAgICAgICAge3RpdGxlfVxuICAgICAgICAgICAgICA8L0hlYWRpbmc+XG4gICAgICAgICAgICAgIHtoYXNDbG9zZSAmJiA8SWNvbkJ1dHRvbiBpY29uPXtDcm9zc0ljb259IGFwcGVhcmFuY2U9XCJtaW5pbWFsXCIgb25DbGljaz17aGFuZGxlQ2xvc2V9IC8+fVxuICAgICAgICAgICAgPC9QYW5lPlxuXG4gICAgICAgICAgICA8UGFuZSBvdmVyZmxvd1k9XCJhdXRvXCIgZGF0YS1zdGF0ZT17c3RhdGV9PlxuICAgICAgICAgICAgICB7cmVuZGVyQ2hpbGRyZW4oKX1cbiAgICAgICAgICAgIDwvUGFuZT5cblxuICAgICAgICAgICAge2hhc0Zvb3RlciAmJiAoXG4gICAgICAgICAgICAgIDxQYW5lIG1hcmdpblRvcD17MjR9IGZsZXhTaHJpbms9ezB9IGRpc3BsYXk9XCJmbGV4XCIgZmxleERpcmVjdGlvbj1cInJvdy1yZXZlcnNlXCI+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBhcHBlYXJhbmNlPVwicHJpbWFyeVwiIGludGVudD17aW50ZW50fSBtYXJnaW5MZWZ0PXs4fSBvbkNsaWNrPXtoYW5kbGVDb25maXJtfT5cbiAgICAgICAgICAgICAgICAgIHtjb25maXJtTGFiZWx9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAge2hhc0NhbmNlbCAmJiA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNhbmNlbH0+e2NhbmNlbExhYmVsfTwvQnV0dG9uPn1cbiAgICAgICAgICAgICAgPC9QYW5lPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICl9XG4gICAgICA8L1RyYW5zaXRpb24+XG4gICAgPC9Qb3J0YWw+XG4gIClcbn0pXG5cbkNvcm5lckRpYWxvZy5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBDaGlsZHJlbiBjYW4gYmUgYSBzdHJpbmcsIG5vZGUgb3IgYSBmdW5jdGlvbiBhY2NlcHRpbmcgYCh7IGNsb3NlIH0pYC5cbiAgICogV2hlbiBwYXNzaW5nIGEgc3RyaW5nLCA8UGFyYWdyYXBoIHNpemU9ezQwMH0gY29sb3I9XCJtdXRlZFwiIC8+IGlzIHVzZWQgdG8gd3JhcCB0aGUgc3RyaW5nLlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ub2RlLCBQcm9wVHlwZXMuZnVuY10pLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIFRoZSBpbnRlbnQgb2YgdGhlIENvcm5lckRpYWxvZy4gVXNlZCBmb3IgdGhlIGJ1dHRvbi5cbiAgICovXG4gIGludGVudDogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgZGlhbG9nIGlzIHNob3duLlxuICAgKi9cbiAgaXNTaG93bjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIFRpdGxlIG9mIHRoZSBEaWFsb2cuIFRpdGxlcyBzaG91bGQgdXNlIFRpdGxlIENhc2UuXG4gICAqL1xuICB0aXRsZTogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgZXhpdCB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlLlxuICAgKi9cbiAgb25DbG9zZUNvbXBsZXRlOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBlbnRlciB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlLlxuICAgKi9cbiAgb25PcGVuQ29tcGxldGU6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBmb290ZXIgd2l0aCB0aGUgY2FuY2VsIGFuZCBjb25maXJtIGJ1dHRvbiBpcyBzaG93bi5cbiAgICovXG4gIGhhc0Zvb3RlcjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgY29uZmlybSBidXR0b24gaXMgY2xpY2tlZC5cbiAgICogVGhpcyBkb2VzIG5vdCBjbG9zZSB0aGUgRGlhbG9nLiBBIGNsb3NlIGZ1bmN0aW9uIHdpbGwgYmUgcGFzc2VkXG4gICAqIGFzIGEgcGFyYW1hdGVyIHlvdSBjYW4gdXNlIHRvIGNsb3NlIHRoZSBkaWFsb2cuXG4gICAqXG4gICAqIGBvbkNvbmZpcm09eyhjbG9zZSkgPT4gY2xvc2UoKX1gXG4gICAqL1xuICBvbkNvbmZpcm06IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBMYWJlbCBvZiB0aGUgY29uZmlybSBidXR0b24uXG4gICAqL1xuICBjb25maXJtTGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIGNhbmNlbCBidXR0b24gaXMgc2hvd24uXG4gICAqL1xuICBoYXNDYW5jZWw6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBjbG9zZSBidXR0b24gaXMgc2hvd24uXG4gICAqL1xuICBoYXNDbG9zZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgY2FuY2VsIGJ1dHRvbiBpcyBjbGlja2VkLlxuICAgKiBUaGlzIGNsb3NlcyB0aGUgRGlhbG9nIGJ5IGRlZmF1bHQuXG4gICAqXG4gICAqIGBvbkNhbmNlbD17KGNsb3NlKSA9PiBjbG9zZSgpfWBcbiAgICovXG4gIG9uQ2FuY2VsOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogTGFiZWwgb2YgdGhlIGNhbmNlbCBidXR0b24uXG4gICAqL1xuICBjYW5jZWxMYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogV2lkdGggb2YgdGhlIERpYWxvZy5cbiAgICovXG4gIHdpZHRoOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSksXG5cbiAgLyoqXG4gICAqIFByb3BzIHRoYXQgYXJlIHBhc3NlZCB0byB0aGUgZGlhbG9nIGNvbnRhaW5lci5cbiAgICovXG4gIGNvbnRhaW5lclByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBQcm9wcyB0aGF0IHdpbGwgc2V0IHBvc2l0aW9uIG9mIGNvcm5lciBkaWFsb2dcbiAgICovXG4gIHBvc2l0aW9uOiBQcm9wVHlwZXMub25lT2YoW3Bvc2l0aW9ucy5UT1BfTEVGVCwgcG9zaXRpb25zLlRPUF9SSUdIVCwgcG9zaXRpb25zLkJPVFRPTV9MRUZULCBwb3NpdGlvbnMuQk9UVE9NX1JJR0hUXSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29ybmVyRGlhbG9nXG4iXX0=